{"version":3,"sources":["webpack://imsdk/webpack/bootstrap","webpack://imsdk/./src/lim/log/Logger.ts","webpack://imsdk/./src/lim/common/utils.ts","webpack://imsdk/./src/lim/common/ConversationType.ts","webpack://imsdk/./src/lim/core/ImClient.ts","webpack://imsdk/./src/lim/common/Fetch.ts","webpack://imsdk/./src/lim.ts","webpack://imsdk/./src/lim/codec/ByteBuffer.ts","webpack://imsdk/./src/lim/pack/LoginPack.ts","webpack://imsdk/./src/lim/common/WebToolkit.ts","webpack://imsdk/(webpack)/buildin/global.js","webpack://imsdk/./node_modules/wxapp-fetch/dist/wxapp-fetch.js","webpack://imsdk/./node_modules/isomorphic-fetch/fetch-npm-browserify.js","webpack://imsdk/./node_modules/whatwg-fetch/fetch.js","webpack://imsdk/./src/lim/uniapp/http/uni-fetch.js","webpack://imsdk/./node_modules/websocket/lib/browser.js","webpack://imsdk/./node_modules/es5-ext/global.js","webpack://imsdk/./node_modules/websocket/lib/version.js","webpack://imsdk/./src/lim/model/RequestBase.ts","webpack://imsdk/./src/lim/model/RequestParams.ts","webpack://imsdk/./src/lim/core/HttpApi.ts","webpack://imsdk/./src/lim/model/ApiResponse.ts","webpack://imsdk/./src/lim/common/Command.ts","webpack://imsdk/./src/lim/utils/CreateMessage.ts","webpack://imsdk/./src/lim/pack/MessagePack.ts","webpack://imsdk/./src/lim/pack/MessageReadPack.ts","webpack://imsdk/./src/lim/pack/MessageReceiveAckPack.ts","webpack://imsdk/./src/lim/pack/MessageRecallPack.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__spreadArrays","this","il","arguments","length","Array","k","a","j","jl","Logger","info","message","optionalParams","_i","debug","console","apply","Date","toISOString","infoTag","tag","error","errorTag","trace","e","Error","undefined","stack","Beans","to","target","JSON","parse","stringify","bean","json","copy","replace","replaceJSON","v","toMapByKey","arrs","result","forEach","strEmpty","strNotEmpty","isEmpty","str","uuid","Math","random","toString","slice","getTime","ConversationType","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","op","TypeError","pop","push","imClient","getLen","limLogin","ImClient","sleep","State","TimeUnit","Logger_1","ByteBuffer_1","LoginPack_1","WebToolkit_1","websocket_1","RequestBase_1","RequestParams_1","HttpApi_1","utils_1","Command_1","CreateMessage_1","ConversationType_1","MessageReadPack_1","MessageReceiveAckPack_1","MessageRecallPack_1","firstMonitorSocket","second","Unit","Second","_a","setTimeout","url","version","clientType","listeners","state","INIT","httpUrl","getRequestBase","RequestBase","appId","imei","isInit","CONNECTED","getRequestParams","RequestParams","userId","userSign","init","callback","self","resp","ip","port","req","success","err","conn","_this","_b","getDeviceInfo","system","imeiLength","isFailed","data","LoginPack","onerror","onSocketErrorEvent","errorHandler","onclose","CLOSEING","onSocketCloseEvent","reason","onmessage","evt","bytebuf","byteBuffer","int32","unpack","command","bodyLen","msgBody","vstring","log","MessageCommand","MSG_P2P","onP2PMessage","MSG_ACK","onMessageAck","MSG_RECEIVE_ACK","onMessageReceiveAck","MSG_READED_NOTIFY","onMessageReadedNotify","MSG_READED_RECEIPT","onMessageReadedReceipt","MSG_RECALL_NOTIFY","onMessageRecallNotify","MSG_RECALL_ACK","onMessageRecallAck","FriendshipEventCommand","FRIEND_ADD","onAddFriend","FRIEND_UPDATE","onUpdateFriend","FRIEND_DELETE","onDeleteFriend","FRIEND_REQUEST","onFriendRequest","FRIEND_REQUEST_READ","onReadFriendRequest","FRIEND_REQUEST_APPROVE","onApproveFriendRequest","FRIEND_BLACK_ADD","onBlackFriend","FRIEND_BLACK_DELETE","onDeleteBlackFriend","FRIEND_GROUP_ADD","onAddFriendGroup","FRIEND_GROUP_DELETE","onDeleteFriendGroup","FRIEND_GROUP_MEMBER_ADD","onAddFriendGroupMember","FRIEND_GROUP_MEMBER_DELETE","onDeleteFriendGroupMember","FRIEND_ALL_DELETE","onDeleteAllFriend","GroupEventCommand","JOIN_GROUP","onJoinGroup","ADDED_MEMBER","onAddGroupMember","CREATED_GROUP","onCreateGroup","UPDATED_GROUP","onUpdateGroup","EXIT_GROUP","onExitGroup","UPDATED_MEMBER","onUpdateGroupMember","DELETED_MEMBER","onDeleteGroupMember","DESTROY_GROUP","onDestroyGroup","TRANSFER_GROUP","onTransferGroup","MUTE_GROUP","onMuteGroup","SPEAK_GROUP_MEMBER","onMuteGroupMember","GROUP_REQUEST_APPROVE","onApproveGroupRequest","GROUP_REQUEST_READ","onReadGroupRequest","MSG_GROUP","onGroupMessage","MSG_GROUP_READED_NOTIFY","onGroupMessageReadedNotify","MSG_GROUP_READED_RECEIPT","onGroupMessageReadedReceipt","GROUP_MSG_ACK","onGroupMessageAck","UserEventCommand","USER_MODIFY","onUserModify","USER_ONLINE_STATUS_CHANGE_NOTIFY","onUserOnlineStatusChangeNotify","USER_ONLINE_STATUS_CHANGE_NOTIFY_SYNC","onUserOnlineStatusChangeNotifySync","USER_CUSTOM_STATUS_CHANGE_NOTIFY","onUserCustomStatusChangeNotify","ConversationEventCommand","CONVERSATION_DELETE","onConversationDelete","CONVERSATION_UPDATE","onConversationUpdate","MediaEventCommand","CALL_VIDEO","onCallVideo","ACCEPT_CALL","onAcceptCall","REJECT_CALL","onRejectCall","HANG_UP","onHangUpCall","CANCEL_CALL","onCancelCall","TRANSMIT_ICE","onTransmitIce","TRANSMIT_OFFER","onTransmitOffer","TRANSMIT_ANSWER","onTransmitAnswer","heartbeatLoop","onLogin","buildMessagePack","messagePack","jsonData","pack","index","error_1","CLOSED","RECONNECTING","onSocketReConnectEvent","onSocketReConnectSuccessEvent","getSingleUserInfo","getUserInfo","userIds","modifyUserInfo","userData","getUserSequence","subscribeUserOnlineStatus","subTime","subUserId","setUserCustomerStatus","customText","customStatus","queryUserOnlineStatus","userList","queryFriendOnlineStatus","addFriend","toItem","fromId","updateFriend","deleteFriend","toId","deleteAllFriend","getAllFriend","getRelation","verifyFriendship","checkType","toIds","blackFriend","deleteBlackFriend","verifyBlack","approveFriendshipRequest","id","status","readFriendshipRequest","getFriendshipRequest","addFriendshipGroup","groupName","getAllFriendshipGroup","deleteFriendshipGroup","groupNames","addFriendshipGroupMember","deleteFriendshipGroupMember","createGroup","groupData","updateGroup","getJoinedGroup","limit","offset","memberId","destroyGroup","groupId","transferGroup","ownerId","getGroupInfo","muteGroup","mute","addGroup","groupItem","addGroupMember","members","removeGroupMember","exitGroup","updateGroupMember","role","muteGroupMember","speakDate","addGroupRequest","approveGroupRequest","getGroupRequest","readGroupRequest","updateConversation","conversationId","isMute","isTop","deleteConversation","syncFriendshipList","lastSequence","maxLimit","syncConversationList","syncJoinedGroup","syncOfflineMessage","start","now","loop","pingPack","SystemCommand","PING","send","sendP2PMessageRead","messageData","messageReadPack","MessageReadPack","P2PMessage","sendMessageReadPack","MSG_READED","sendGroupMessageRead","GroupMessage","MSG_GROUP_READED","sendMessageReceiveAck","messageReceiveAckPack","MessageReceiveAckPack","sendP2PMessageRecall","messageRecallPack","MessageRecallPack","sendMessageRecall","MSG_RECALL","sendGroupMessageRecall","sendP2PTextMessage","text","createTextMessage","p2pPack","sendP2PImageMessage","image","createImageMessage","sendP2PAudioMessage","audio","createAudioMessage","sendP2PVideoMessage","video","createVideoMessage","sendP2PEmojiMessage","emoji","createEmojiMessage","sendP2PFileMessage","file","createFileMessage","sendP2PLocationMessage","location","createLocationMessage","sendP2PCustomerMessage","type","custom","createCustomerMessage","sendGroupTextMessage","sendGroupImageMessage","sendGroupAudioMessage","sendGroupVideoMessage","sendGroupEmojiMessage","sendGroupFileMessage","sendGroupLocationMessage","sendGroupCustomerMessage","requestVideoCall","msg","createVideoCallMessage","videoPack","acceptVideoCall","rejectVideoCall","hangUpVideoCall","transmitIce","transmitOffer","transmitAnswer","cancelVideoCall","getUserId","w3cwebsocket","binaryType","tr","clearTimeout","onopen","readyState","OPEN","onSocketConnectEvent","loginPack","LOGIN","LOGIN_ACK","len","charCodeAt","Fetch","getFetchToolkit","httpFetch","global","fetch","im","ImClient_1","ByteBuffer","arrayBuf","Type_Byte","Type_Short","Type_UShort","Type_Int32","Type_UInt32","Type_String","Type_VString","Type_Int64","Type_Float","Type_Double","Type_ByteArray","_offset","_list","_littleEndian","_org_buf","constructor","DataView","Uint8Array","buffer","bigEndian","littleEndianfunction","utf8Write","view","setUint8","val","getInt32","splice","uint32","getUint32","blength","string","utf8Read","utf8Length","chr","end","byte","getUint8","String","fromCharCode","vlen","int64","getFloat64","float","getFloat32","double","byteArray","arr","packWithHead","ifHead","ArrayBuffer","setUint32","setInt8","setInt16","setUint16","setInt32","setFloat64","setFloat32","indx","getAvailable","byteLength","Fetch_1","Base64","_keyStr","encode","u","_utf8_encode","isNaN","charAt","decode","indexOf","_utf8_decode","c2","c3","WebToolkit","getBrowserInfo","agent","navigator","userAgent","toLowerCase","REGSTR_EDGE","REGSTR_IE","OLD_IE","REGSTR_FF","REGSTR_CHROME","REGSTR_SAF","REGSTR_OPERA","code","split","browser","browserVersion","match","getWxAppInfo","getReactNativeInfo","getUniAppInfo","loadJS","script","document","createElement","fn","exist","getElementsByTagName","children","dom","outerHTML","onreadystatechange","onload","src","appendChild","getIpInfoByFetch","request","method","headers","response","res","currentCity","eval","getIpInfoByInsertScript","window","getIpInfo","base64Encode","base64Decode","Function","factory","configurable","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_wxapp_http__","__WEBPACK_IMPORTED_MODULE_0_wxapp_http___default","_typeof","obj","httpClient","maxConcurrent","timeout","header","dataType","generateResponse","config","ok","statusCode","statusText","errMsg","clone","blob","Blob","keys","entries","all","has","options","catch","extendStatics","__extends","setPrototypeOf","__proto__","b","__","__assign","assign","event_emitter_js_1","DEFAULT_CONFIG","Http","_super","ctx","wx","queue","runningTask","requestInterceptor","responseInterceptor","entity","shift","emit","callBack","fail","complete","requestConfig","head","post","put","connect","setRequestInterceptor","interceptor","setResponseInterceptor","clean","default","randomId","substr","findIndexById","findIndex","EventEmitter","on","event","listener","events","container","off","clear","once","argv","concat","map","emitting","dataArray","globalThis","support","viewClasses","isArrayBufferView","isView","normalizeName","test","normalizeValue","iteratorFor","items","Headers","append","isArray","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","bufferClone","buf","set","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","arrayBuffer","isConsumed","byteOffset","readAsText","chars","join","readArrayBufferAsText","formData","oldValue","values","methods","Request","input","upcased","credentials","signal","toUpperCase","referrer","cache","reParamSearch","form","trim","bytes","decodeURIComponent","Response","bodyInit","redirectStatuses","redirect","RangeError","DOMException","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","open","href","fixUrl","withCredentials","responseType","setRequestHeader","addEventListener","removeEventListener","polyfill","parseUniappHeaders","toStr","rawBody","requestTask","uni","_globalThis","NativeWebSocket","WebSocket","MozWebSocket","websocket_version","W3CWebSocket","uri","protocols","prop","naiveFallback","__global__","identifier","ApiResponse_1","HttpApi","params","reqUrl","paramStr","setQueryConfig","_str","substring","webFetch","response2ApiResponse","apiResponse","ApiResponse","succeed","isSucceed","MessagePack_1","from","conversationType","MessagePack","buildTextMessagePack","buildImageMessagePack","buildAudioMessagePack","buildVideoMessagePack","buildEmojiMessagePack","buildFileMessagePack","buildLocationMessagePack","buildCustomerMessagePack","messageId","messageRandom","RangeInteger","messageTime","min","max","range","floor","content","messageBody","messageSequence","messageKey"],"mappings":"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","file":"lim-sdk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nexports.__esModule = true;\nvar Logger = /** @class */ (function () {\n    function Logger() {\n    }\n    Logger.info = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (Logger.debug) {\n            console.info.apply(console, __spreadArrays([new Date().toISOString() + \" : \" + message], optionalParams));\n        }\n    };\n    Logger.infoTag = function (tag, message) {\n        var optionalParams = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            optionalParams[_i - 2] = arguments[_i];\n        }\n        if (Logger.debug) {\n            console.info.apply(console, __spreadArrays([new Date().toISOString() + \" \" + tag + \" : \" + message], optionalParams));\n        }\n    };\n    Logger.error = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (Logger.debug) {\n            console.error.apply(console, __spreadArrays([new Date().toISOString() + \" : \" + message], optionalParams));\n        }\n    };\n    Logger.errorTag = function (tag, message) {\n        var optionalParams = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            optionalParams[_i - 2] = arguments[_i];\n        }\n        if (Logger.debug) {\n            console.error.apply(console, __spreadArrays([new Date().toISOString() + \" \" + tag + \"  : \" + message], optionalParams));\n        }\n    };\n    Logger.trace = function (e) {\n        if (Logger.debug) {\n            if (e instanceof Error) {\n                console.error(e.message + \" \\n \" + (e.stack !== undefined ? e.stack : ''));\n            }\n            else {\n                console.error(e);\n            }\n        }\n    };\n    Logger.debug = true;\n    return Logger;\n}());\nexports[\"default\"] = Logger;\n","\"use strict\";\nexports.__esModule = true;\nvar Beans = /** @class */ (function () {\n    function Beans() {\n    }\n    Beans.to = function (target) {\n        return JSON.parse(JSON.stringify(target));\n    };\n    Beans.bean = function (json) {\n        return JSON.parse(json);\n    };\n    Beans.copy = function (target) {\n        return Beans.to(target);\n    };\n    Beans.replace = function (target, replaceJSON) {\n        var r = Beans.to(target);\n        for (var v in replaceJSON) {\n            r[v] = replaceJSON[v];\n        }\n        return r;\n    };\n    Beans.toMapByKey = function (arrs, key) {\n        var result = {};\n        arrs.forEach(function (v) {\n            if (v.hasOwnProperty(key)) {\n                result[key] = v;\n            }\n        });\n        return result;\n    };\n    Beans.json = function (target) {\n        return JSON.stringify(target);\n    };\n    Beans.strEmpty = function (s) {\n        return !!s;\n    };\n    Beans.strNotEmpty = function (s) {\n        return !s;\n    };\n    Beans.isEmpty = function (str) {\n        if (str === null ||\n            str === '' ||\n            str === undefined ||\n            str.length === 0) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Beans.uuid = function () {\n        return (Math.random() * 36).toString(36).slice(2) + new Date().getTime().toString();\n    };\n    return Beans;\n}());\nexports[\"default\"] = Beans;\n","\"use strict\";\nexports.__esModule = true;\nvar ConversationType;\n(function (ConversationType) {\n    ConversationType[ConversationType[\"P2PMessage\"] = 0] = \"P2PMessage\";\n    ConversationType[ConversationType[\"GroupMessage\"] = 1] = \"GroupMessage\";\n})(ConversationType || (ConversationType = {}));\nexports[\"default\"] = ConversationType;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nexports.__esModule = true;\nexports.imClient = exports.getLen = exports.limLogin = exports.ImClient = exports.sleep = exports.State = void 0;\nvar Logger_1 = require(\"../log/Logger\");\nvar ByteBuffer_1 = require(\"../codec/ByteBuffer\");\nvar LoginPack_1 = require(\"../pack/LoginPack\");\nvar WebToolkit_1 = require(\"../common/WebToolkit\");\nvar websocket_1 = require(\"websocket\");\nvar RequestBase_1 = require(\"../model/RequestBase\");\nvar RequestParams_1 = require(\"../model/RequestParams\");\nvar HttpApi_1 = require(\"./HttpApi\");\nvar utils_1 = require(\"../common/utils\");\nvar Command_1 = require(\"../common/Command\");\nvar CreateMessage_1 = require(\"../utils/CreateMessage\");\nvar ConversationType_1 = require(\"../common/ConversationType\");\nvar MessageReadPack_1 = require(\"../pack/MessageReadPack\");\nvar MessageReceiveAckPack_1 = require(\"../pack/MessageReceiveAckPack\");\nvar MessageRecallPack_1 = require(\"../pack/MessageRecallPack\");\nvar loginTimeout = 10 * 1000; // 10 seconds\nvar heartbeatInterval = 10 * 1000; // seconds\nvar firstMonitorSocket = false; // 第一次监听socket\nvar State;\n(function (State) {\n    State[State[\"INIT\"] = 0] = \"INIT\";\n    State[State[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    State[State[\"CONNECTED\"] = 2] = \"CONNECTED\";\n    State[State[\"RECONNECTING\"] = 3] = \"RECONNECTING\";\n    State[State[\"CLOSEING\"] = 4] = \"CLOSEING\";\n    State[State[\"CLOSED\"] = 5] = \"CLOSED\";\n})(State = exports.State || (exports.State = {}));\nvar TimeUnit;\n(function (TimeUnit) {\n    TimeUnit[TimeUnit[\"Second\"] = 1000] = \"Second\";\n    TimeUnit[TimeUnit[\"Millisecond\"] = 1] = \"Millisecond\";\n})(TimeUnit || (TimeUnit = {}));\nexports.sleep = function (second, Unit) {\n    if (Unit === void 0) { Unit = TimeUnit.Second; }\n    return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, new Promise(function (resolve, _) {\n                    setTimeout(function () {\n                        resolve();\n                    }, second * Unit);\n                })];\n        });\n    });\n};\nvar ImClient = /** @class */ (function () {\n    function ImClient() {\n        this.url = \"\";\n        this.version = 1;\n        this.clientType = 1;\n        this.listeners = null;\n        this.state = State.INIT;\n        // lastOfflineMessageSequence: number = 0;\n        // offlineMessageList: Array<any> = new Array<any>()\n        this.httpUrl = \"http://127.0.0.1:8000\";\n    }\n    ImClient.prototype.getRequestBase = function () {\n        return new RequestBase_1.RequestBase(this.appId, this.clientType, this.imei);\n    };\n    ImClient.prototype.isInit = function () {\n        return this.state == State.CONNECTED;\n    };\n    ImClient.prototype.getRequestParams = function () {\n        return new RequestParams_1.RequestParams(this.appId, this.userId, this.userSign);\n    };\n    ImClient.prototype.init = function (appId, userId, userSign, listeners, callback) {\n        return __awaiter(this, void 0, void 0, function () {\n            var self, api, resp, ip, port, req, _a, success, err, conn;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        self = this;\n                        self.appId = appId;\n                        self.listeners = listeners;\n                        self.imei = WebToolkit_1[\"default\"].getDeviceInfo().system;\n                        self.imeiLength = exports.getLen(self.imei);\n                        self.userId = userId;\n                        this.userSign = userSign;\n                        this.imeiLength = self.imeiLength;\n                        if (!utils_1[\"default\"].isEmpty(this.url)) return [3 /*break*/, 2];\n                        Logger_1[\"default\"].info(\"获取im地址\");\n                        api = new HttpApi_1[\"default\"](this.httpUrl);\n                        return [4 /*yield*/, api.call(\"/user/login\", {}, {\n                                clientType: this.clientType,\n                                appId: this.appId,\n                                userId: this.userId\n                            })\n                            // console.log(resp)\n                        ];\n                    case 1:\n                        resp = _b.sent();\n                        // console.log(resp)\n                        if (resp.isFailed()) {\n                            Logger_1[\"default\"].info(\"登录失败：获取im地址失败\");\n                            return [2 /*return*/];\n                        }\n                        ip = resp.data.ip;\n                        port = resp.data.port;\n                        this.url = \"ws://\" + ip + \":\" + port + \"/ws\";\n                        _b.label = 2;\n                    case 2:\n                        req = new LoginPack_1.LoginPack(self.appId, self.userId, 1);\n                        return [4 /*yield*/, exports.limLogin(self.url, req, self)];\n                    case 3:\n                        _a = _b.sent(), success = _a.success, err = _a.err, conn = _a.conn;\n                        if (success) {\n                            if (!firstMonitorSocket) {\n                                firstMonitorSocket = true;\n                            }\n                            //登录成功以后操作\n                            conn.onerror = function (error) {\n                                Logger_1[\"default\"].info(\"websocket error: \", error);\n                                // 加入socket 连接事件\n                                if (typeof exports.imClient.listeners.onSocketErrorEvent === 'function') {\n                                    exports.imClient.listeners.onSocketErrorEvent(error);\n                                }\n                                //异步方法，自动重连\n                                _this.errorHandler(error, req);\n                            };\n                            conn.onclose = function (e) {\n                                Logger_1[\"default\"].info(\"event[onclose] fired\");\n                                if (self.state == State.CLOSEING) {\n                                    _this.onclose(\"logout\");\n                                    return;\n                                }\n                                // socket断开事件 连接事件\n                                if (typeof exports.imClient.listeners.onSocketCloseEvent === 'function') {\n                                    exports.imClient.listeners.onSocketCloseEvent();\n                                }\n                                // 异步方法 自动重连\n                                _this.errorHandler(new Error(e.reason), req);\n                            };\n                            conn.onmessage = function (evt) {\n                                var bytebuf = new ByteBuffer_1[\"default\"](evt.data);\n                                var byteBuffer = bytebuf.int32().int32().unpack();\n                                var command = byteBuffer[0]; //解析command\n                                var bodyLen = byteBuffer[1]; //解析bodylen\n                                var unpack = bytebuf.vstring(null, bodyLen).unpack(); //解析出字符串\n                                var msgBody = unpack[2];\n                                console.log(\"sdk收到服务端数据：\" + msgBody);\n                                if (command === Command_1.MessageCommand.MSG_P2P) {\n                                    //单聊消息收发\n                                    if (typeof exports.imClient.listeners.onP2PMessage === 'function') {\n                                        exports.imClient.listeners.onP2PMessage(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_ACK) {\n                                    //单聊消息发送成功ACK\n                                    if (typeof exports.imClient.listeners.onMessageAck === 'function') {\n                                        exports.imClient.listeners.onMessageAck(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_RECEIVE_ACK) {\n                                    // 消息接收成功ACK\n                                    if (typeof exports.imClient.listeners.onMessageReceiveAck === 'function') {\n                                        exports.imClient.listeners.onMessageReceiveAck(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_READED_NOTIFY) {\n                                    // 消息已读通知给同步端\n                                    if (typeof exports.imClient.listeners.onMessageReadedNotify === 'function') {\n                                        exports.imClient.listeners.onMessageReadedNotify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_READED_RECEIPT) {\n                                    // 消息已读回执\n                                    if (typeof exports.imClient.listeners.onMessageReadedReceipt === 'function') {\n                                        exports.imClient.listeners.onMessageReadedReceipt(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_RECALL_NOTIFY) {\n                                    // 消息撤回通知\n                                    if (typeof exports.imClient.listeners.onMessageRecallNotify === 'function') {\n                                        exports.imClient.listeners.onMessageRecallNotify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_RECALL_ACK) {\n                                    // 消息撤回ACK\n                                    if (typeof exports.imClient.listeners.onMessageRecallAck === 'function') {\n                                        exports.imClient.listeners.onMessageRecallAck(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_ADD) {\n                                    // 添加好友通知\n                                    if (typeof exports.imClient.listeners.onAddFriend === 'function') {\n                                        exports.imClient.listeners.onAddFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_UPDATE) {\n                                    // 更新好友通知\n                                    if (typeof exports.imClient.listeners.onUpdateFriend === 'function') {\n                                        exports.imClient.listeners.onUpdateFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_DELETE) {\n                                    // 删除好友通知\n                                    if (typeof exports.imClient.listeners.onDeleteFriend === 'function') {\n                                        exports.imClient.listeners.onDeleteFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_REQUEST) {\n                                    // 好友申请通知\n                                    if (typeof exports.imClient.listeners.onFriendRequest === 'function') {\n                                        exports.imClient.listeners.onFriendRequest(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_REQUEST_READ) {\n                                    // 好友申请已读通知\n                                    if (typeof exports.imClient.listeners.onReadFriendRequest === 'function') {\n                                        exports.imClient.listeners.onReadFriendRequest(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_REQUEST_APPROVE) {\n                                    if (typeof exports.imClient.listeners.onApproveFriendRequest === 'function') {\n                                        exports.imClient.listeners.onApproveFriendRequest(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_BLACK_ADD) {\n                                    // 添加黑名单通知\n                                    if (typeof exports.imClient.listeners.onBlackFriend === 'function') {\n                                        exports.imClient.listeners.onBlackFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_BLACK_DELETE) {\n                                    // 删除黑名单通知\n                                    if (typeof exports.imClient.listeners.onDeleteBlackFriend === 'function') {\n                                        exports.imClient.listeners.onDeleteBlackFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_GROUP_ADD) {\n                                    // 添加好友分组通知\n                                    if (typeof exports.imClient.listeners.onAddFriendGroup === 'function') {\n                                        exports.imClient.listeners.onAddFriendGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_GROUP_DELETE) {\n                                    // 删除好友分组通知\n                                    if (typeof exports.imClient.listeners.onDeleteFriendGroup === 'function') {\n                                        exports.imClient.listeners.onDeleteFriendGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_GROUP_MEMBER_ADD) {\n                                    // 添加好友分组成员通知\n                                    if (typeof exports.imClient.listeners.onAddFriendGroupMember === 'function') {\n                                        exports.imClient.listeners.onAddFriendGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_GROUP_MEMBER_DELETE) {\n                                    // 删除好友分组成员通知\n                                    if (typeof exports.imClient.listeners.onDeleteFriendGroupMember === 'function') {\n                                        exports.imClient.listeners.onDeleteFriendGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_ALL_DELETE) {\n                                    // 删除所有好友通知\n                                    if (typeof exports.imClient.listeners.onDeleteAllFriend === 'function') {\n                                        exports.imClient.listeners.onDeleteAllFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.JOIN_GROUP) {\n                                    // 推送申请入群通知\n                                    if (typeof exports.imClient.listeners.onJoinGroup === 'function') {\n                                        exports.imClient.listeners.onJoinGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.ADDED_MEMBER) {\n                                    // 推送添加群成员通知\n                                    if (typeof exports.imClient.listeners.onAddGroupMember === 'function') {\n                                        exports.imClient.listeners.onAddGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.CREATED_GROUP) {\n                                    // 推送创建群组通知\n                                    if (typeof exports.imClient.listeners.onCreateGroup === 'function') {\n                                        exports.imClient.listeners.onCreateGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.UPDATED_GROUP) {\n                                    // 推送更新群组通知\n                                    if (typeof exports.imClient.listeners.onUpdateGroup === 'function') {\n                                        exports.imClient.listeners.onUpdateGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.EXIT_GROUP) {\n                                    // 推送退出群组通知\n                                    if (typeof exports.imClient.listeners.onExitGroup === 'function') {\n                                        exports.imClient.listeners.onExitGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.UPDATED_MEMBER) {\n                                    // 推送修改群成员通知\n                                    if (typeof exports.imClient.listeners.onUpdateGroupMember === 'function') {\n                                        exports.imClient.listeners.onUpdateGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.DELETED_MEMBER) {\n                                    // 推送删除群成员通知\n                                    if (typeof exports.imClient.listeners.onDeleteGroupMember === 'function') {\n                                        exports.imClient.listeners.onDeleteGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.DESTROY_GROUP) {\n                                    // 推送解散群通知\n                                    if (typeof exports.imClient.listeners.onDestroyGroup === 'function') {\n                                        exports.imClient.listeners.onDestroyGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.TRANSFER_GROUP) {\n                                    // 推送转让群主通知\n                                    if (typeof exports.imClient.listeners.onTransferGroup === 'function') {\n                                        exports.imClient.listeners.onTransferGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.MUTE_GROUP) {\n                                    // 推送禁言群通知\n                                    if (typeof exports.imClient.listeners.onMuteGroup === 'function') {\n                                        exports.imClient.listeners.onMuteGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.SPEAK_GROUP_MEMBER) {\n                                    // 推送禁言群成员通知\n                                    if (typeof exports.imClient.listeners.onMuteGroupMember === 'function') {\n                                        exports.imClient.listeners.onMuteGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.GROUP_REQUEST_APPROVE) {\n                                    // 推送审批群申请通知\n                                    if (typeof exports.imClient.listeners.onApproveGroupRequest === 'function') {\n                                        exports.imClient.listeners.onApproveGroupRequest(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.GROUP_REQUEST_READ) {\n                                    // 推送群申请已读通知\n                                    if (typeof exports.imClient.listeners.onReadGroupRequest === 'function') {\n                                        exports.imClient.listeners.onReadGroupRequest(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.MSG_GROUP) {\n                                    // 群聊消息收发\n                                    if (typeof exports.imClient.listeners.onGroupMessage === 'function') {\n                                        exports.imClient.listeners.onGroupMessage(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.MSG_GROUP_READED_NOTIFY) {\n                                    // 群聊消息已读通知\n                                    if (typeof exports.imClient.listeners.onGroupMessageReadedNotify === 'function') {\n                                        exports.imClient.listeners.onGroupMessageReadedNotify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.MSG_GROUP_READED_RECEIPT) {\n                                    // 群聊消息已读回执\n                                    if (typeof exports.imClient.listeners.onGroupMessageReadedReceipt === 'function') {\n                                        exports.imClient.listeners.onGroupMessageReadedReceipt(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.GROUP_MSG_ACK) {\n                                    // 群聊消息ACK\n                                    if (typeof exports.imClient.listeners.onGroupMessageAck === 'function') {\n                                        exports.imClient.listeners.onGroupMessageAck(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.UserEventCommand.USER_MODIFY) {\n                                    // 用户信息变更通知\n                                    if (typeof exports.imClient.listeners.onUserModify === 'function') {\n                                        exports.imClient.listeners.onUserModify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.UserEventCommand.USER_ONLINE_STATUS_CHANGE_NOTIFY) {\n                                    // 用户在线状态更改通知\n                                    if (typeof exports.imClient.listeners.onUserOnlineStatusChangeNotify === 'function') {\n                                        exports.imClient.listeners.onUserOnlineStatusChangeNotify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.UserEventCommand.USER_ONLINE_STATUS_CHANGE_NOTIFY_SYNC) {\n                                    // 用户在线状态通知同步报文\n                                    if (typeof exports.imClient.listeners.onUserOnlineStatusChangeNotifySync === 'function') {\n                                        exports.imClient.listeners.onUserOnlineStatusChangeNotifySync(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.UserEventCommand.USER_CUSTOM_STATUS_CHANGE_NOTIFY) {\n                                    // 用户自身状态更改通知报文\n                                    if (typeof exports.imClient.listeners.onUserCustomStatusChangeNotify === 'function') {\n                                        exports.imClient.listeners.onUserCustomStatusChangeNotify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.ConversationEventCommand.CONVERSATION_DELETE) {\n                                    // 删除会话通知\n                                    if (typeof exports.imClient.listeners.onConversationDelete === 'function') {\n                                        exports.imClient.listeners.onConversationDelete(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.ConversationEventCommand.CONVERSATION_UPDATE) {\n                                    // 沟通信会话通知\n                                    if (typeof exports.imClient.listeners.onConversationUpdate === 'function') {\n                                        exports.imClient.listeners.onConversationUpdate(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MediaEventCommand.CALL_VIDEO) {\n                                    debugger;\n                                    console.log(\"视频通话请求\");\n                                    if (typeof exports.imClient.listeners.onCallVideo === 'function') {\n                                        exports.imClient.listeners.onCallVideo(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MediaEventCommand.ACCEPT_CALL) {\n                                    if (typeof exports.imClient.listeners.onAcceptCall === 'function') {\n                                        exports.imClient.listeners.onAcceptCall(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MediaEventCommand.REJECT_CALL) {\n                                    if (typeof exports.imClient.listeners.onRejectCall === 'function') {\n                                        exports.imClient.listeners.onRejectCall(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MediaEventCommand.HANG_UP) {\n                                    if (typeof exports.imClient.listeners.onHangUpCall === 'function') {\n                                        exports.imClient.listeners.onHangUpCall(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MediaEventCommand.CANCEL_CALL) {\n                                    if (typeof exports.imClient.listeners.onCancelCall === 'function') {\n                                        exports.imClient.listeners.onCancelCall(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MediaEventCommand.TRANSMIT_ICE) {\n                                    if (typeof exports.imClient.listeners.onTransmitIce === 'function') {\n                                        exports.imClient.listeners.onTransmitIce(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MediaEventCommand.TRANSMIT_OFFER) {\n                                    if (typeof exports.imClient.listeners.onTransmitOffer === 'function') {\n                                        exports.imClient.listeners.onTransmitOffer(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MediaEventCommand.TRANSMIT_ANSWER) {\n                                    if (typeof exports.imClient.listeners.onTransmitAnswer === 'function') {\n                                        exports.imClient.listeners.onTransmitAnswer(msgBody);\n                                    }\n                                }\n                            };\n                            this.conn = conn;\n                            this.state = State.CONNECTED;\n                            //拉取离线消息\n                            // this.loadOfflineMessage();\n                            //心跳包\n                            this.heartbeatLoop(this.conn);\n                            if (typeof exports.imClient.listeners.onLogin === 'function') {\n                                exports.imClient.listeners.onLogin(this.userId);\n                            }\n                            callback(self);\n                        }\n                        else {\n                            Logger_1[\"default\"].error(err === null || err === void 0 ? void 0 : err.message);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ImClient.prototype.buildMessagePack = function (command, messagePack) {\n        var jsonData = JSON.stringify(messagePack);\n        var bodyLen = exports.getLen(jsonData);\n        var pack = new ByteBuffer_1[\"default\"](null, 0);\n        pack.int32(command).int32(this.version).int32(this.clientType)\n            .int32(0x0)\n            .int32(this.appId)\n            .int32(this.imeiLength)\n            .int32(bodyLen)\n            .vstring(this.imei, this.imeiLength)\n            .vstring(jsonData, bodyLen);\n        return pack;\n    };\n    // 4. 自动重连\n    ImClient.prototype.errorHandler = function (error, req) {\n        return __awaiter(this, void 0, void 0, function () {\n            var index, _a, success, err, conn, error_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        // 如果是主动断开连接，就没有必要自动重连\n                        // 比如收到被踢，或者主动调用logout()方法\n                        if (this.state == State.CLOSED || this.state == State.CLOSEING) {\n                            return [2 /*return*/];\n                        }\n                        this.state = State.RECONNECTING;\n                        if (typeof exports.imClient.listeners.onSocketReConnectEvent === 'function') {\n                            exports.imClient.listeners.onSocketReConnectEvent();\n                        }\n                        index = 0;\n                        _b.label = 1;\n                    case 1:\n                        if (!(index < 10)) return [3 /*break*/, 7];\n                        return [4 /*yield*/, exports.sleep(3)];\n                    case 2:\n                        _b.sent();\n                        _b.label = 3;\n                    case 3:\n                        _b.trys.push([3, 5, , 6]);\n                        Logger_1[\"default\"].info(\"try to relogin\");\n                        return [4 /*yield*/, exports.limLogin(this.url, req, this)];\n                    case 4:\n                        _a = _b.sent(), success = _a.success, err = _a.err, conn = _a.conn;\n                        if (success) {\n                            if (typeof exports.imClient.listeners.onSocketReConnectSuccessEvent === 'function') {\n                                exports.imClient.listeners.onSocketReConnectSuccessEvent();\n                            }\n                            return [2 /*return*/];\n                        }\n                        Logger_1[\"default\"].info(err);\n                        return [3 /*break*/, 6];\n                    case 5:\n                        error_1 = _b.sent();\n                        Logger_1[\"default\"].info(error_1);\n                        return [3 /*break*/, 6];\n                    case 6:\n                        index++;\n                        return [3 /*break*/, 1];\n                    case 7:\n                        this.onclose(\"reconnect timeout\");\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // 表示连接中止\n    ImClient.prototype.onclose = function (reason) {\n        if (this.state == State.CLOSED) {\n            return;\n        }\n        this.state = State.CLOSED;\n        Logger_1[\"default\"].info(\"connection closed due to \" + reason);\n        this.conn = undefined;\n        this.userId = \"\";\n        // 加入socket 关闭事件\n        if (typeof exports.imClient.listeners.onSocketErrorEvent === 'function') {\n            exports.imClient.listeners.onSocketCloseEvent();\n        }\n    };\n    /*\n     *   用户相关操作\n     */\n    ImClient.prototype.getSingleUserInfo = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/getSingleUserInfo\", _this.getRequestParams(), {\n                userId: _this.userId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getUserInfo = function (userIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/getUserInfo\", _this.getRequestParams(), { userIds: userIds });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.modifyUserInfo = function (userData) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/modifyUserInfo\", _this.getRequestParams(), userData);\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getUserSequence = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/getUserSequence\", _this.getRequestParams(), { userId: _this.userId });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.subscribeUserOnlineStatus = function (subTime, subUserId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/subscribeUserOnlineStatus\", _this.getRequestParams(), {\n                subTime: subTime,\n                subUserId: subUserId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.setUserCustomerStatus = function (customText, customStatus) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/setUserCustomerStatus\", _this.getRequestParams(), {\n                userId: _this.userId,\n                customText: customText,\n                customStatus: customStatus\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.queryUserOnlineStatus = function (userList) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/queryUserOnlineStatus\", _this.getRequestParams(), {\n                userList: userList,\n                clientType: _this.clientType,\n                imei: _this.imei\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.queryFriendOnlineStatus = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/queryFriendOnlineStatus\", _this.getRequestParams(), {\n                clientType: _this.clientType,\n                imei: _this.imei\n            });\n            resolve(resp);\n        });\n    };\n    /*\n     *  好友相关操作\n     */\n    ImClient.prototype.addFriend = function (toItem) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/add\", _this.getRequestParams(), { fromId: _this.userId, toItem: toItem });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.updateFriend = function (toItem) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/update\", _this.getRequestParams(), { fromId: _this.userId, toItem: toItem });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteFriend = function (toId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/delete\", _this.getRequestParams(), { fromId: _this.userId, toId: toId });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteAllFriend = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/deleteAll\", _this.getRequestParams(), {\n                fromId: _this.userId,\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getAllFriend = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/getAll\", _this.getRequestParams(), { fromId: _this.userId });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getRelation = function (toId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/getRelation\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                toId: toId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.verifyFriendship = function (checkType, toIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/verify\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                checkType: checkType,\n                toIds: toIds\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.blackFriend = function (toId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/black\", _this.getRequestParams(), { fromId: _this.userId, toId: toId });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteBlackFriend = function (toId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/deleteBlack\", _this.getRequestParams(), { fromId: _this.userId, toId: toId });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.verifyBlack = function (checkType, toIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/verifyBlack\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                checkType: checkType,\n                toIds: toIds\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.approveFriendshipRequest = function (id, status) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendshipRequest/approve\", _this.getRequestParams(), {\n                id: id,\n                status: status\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.readFriendshipRequest = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendshipRequest/read\", _this.getRequestParams(), {\n                userId: _this.userId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getFriendshipRequest = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendshipRequest/get\", _this.getRequestParams(), {\n                userId: _this.userId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.addFriendshipGroup = function (groupName, toIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/group/add\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupName: groupName,\n                toIds: toIds\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getAllFriendshipGroup = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/group/getAll\", _this.getRequestParams(), {\n                fromId: _this.userId,\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteFriendshipGroup = function (groupNames) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/group/delete\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupNames: groupNames\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.addFriendshipGroupMember = function (groupName, toIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/group/member/add\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupName: groupName,\n                toIds: toIds\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteFriendshipGroupMember = function (groupName, toIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/group/member/delete\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupName: groupName,\n                toIds: toIds\n            });\n            resolve(resp);\n        });\n    };\n    /*\n     *  群组相关操作\n     */\n    ImClient.prototype.createGroup = function (groupData) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/create\", _this.getRequestParams(), groupData);\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.updateGroup = function (groupData) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/update\", _this.getRequestParams(), groupData);\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getJoinedGroup = function (limit, offset) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/getJoined\", _this.getRequestParams(), {\n                memberId: _this.userId,\n                limit: limit,\n                offset: offset\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.destroyGroup = function (groupId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/destroy\", _this.getRequestParams(), {\n                groupId: groupId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.transferGroup = function (groupId, ownerId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/transfer\", _this.getRequestParams(), {\n                groupId: groupId,\n                ownerId: ownerId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getGroupInfo = function (groupId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/get\", _this.getRequestParams(), {\n                groupId: groupId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.muteGroup = function (groupId, mute) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/mute\", _this.getRequestParams(), {\n                groupId: groupId,\n                mute: mute\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.addGroup = function (groupItem) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/add\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupItem: groupItem\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.addGroupMember = function (groupId, members) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/member/add\", _this.getRequestParams(), {\n                groupId: groupId,\n                clientType: _this.clientType,\n                members: members\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.removeGroupMember = function (groupId, memberId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/member/remove\", _this.getRequestParams(), {\n                groupId: groupId,\n                clientType: _this.clientType,\n                memberId: memberId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.exitGroup = function (groupId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/member/exit\", _this.getRequestParams(), {\n                groupId: groupId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.updateGroupMember = function (groupId, memberId, role) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/member/update\", _this.getRequestParams(), {\n                groupId: groupId,\n                clientType: _this.clientType,\n                memberId: memberId,\n                role: role\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.muteGroupMember = function (groupId, memberId, speakDate) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/member/speak\", _this.getRequestParams(), {\n                groupId: groupId,\n                memberId: memberId,\n                speakDate: speakDate\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.addGroupRequest = function (groupItem) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/request/add\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupItem: groupItem\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.approveGroupRequest = function (id, status) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/request/approve\", _this.getRequestParams(), {\n                id: id,\n                status: status\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getGroupRequest = function (groupId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/request/get\", _this.getRequestParams(), {\n                groupId: groupId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.readGroupRequest = function (groupId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/request/read\", _this.getRequestParams(), {\n                groupId: groupId\n            });\n            resolve(resp);\n        });\n    };\n    /*\n     *  会话相关操作\n     */\n    ImClient.prototype.updateConversation = function (conversationId, isMute, isTop) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/conversation/updateConversation\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                clientType: _this.clientType,\n                imei: _this.imei,\n                conversationId: conversationId,\n                isMute: isMute,\n                isTop: isTop\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteConversation = function (conversationId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/conversation/deleteConversation\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                clientType: _this.clientType,\n                imei: _this.imei,\n                conversationId: conversationId,\n            });\n            resolve(resp);\n        });\n    };\n    /*\n     * 同步相关操作\n     */\n    ImClient.prototype.syncFriendshipList = function (lastSequence, maxLimit) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/syncFriendshipList\", _this.getRequestParams(), {\n                lastSequence: lastSequence,\n                maxLimit: maxLimit\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.syncConversationList = function (lastSequence, maxLimit) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/conversation/syncConversationList\", _this.getRequestParams(), {\n                lastSequence: lastSequence,\n                maxLimit: maxLimit\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.syncJoinedGroup = function (lastSequence, maxLimit) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/syncJoinedGroup\", _this.getRequestParams(), {\n                lastSequence: lastSequence,\n                maxLimit: maxLimit\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.syncOfflineMessage = function (lastSequence, maxLimit) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/message/syncOfflineMessage\", _this.getRequestParams(), {\n                lastSequence: lastSequence,\n                maxLimit: maxLimit\n            });\n            resolve(resp);\n        });\n    };\n    // 2、心跳\n    ImClient.prototype.heartbeatLoop = function (conn) {\n        var _this = this;\n        var start = Date.now();\n        var loop = function () {\n            if (_this.state != State.CONNECTED) {\n                Logger_1[\"default\"].error(\"heartbeatLoop exited\");\n                return;\n            }\n            if (Date.now() - start >= heartbeatInterval) {\n                Logger_1[\"default\"].info(\">>> send ping ;\");\n                start = Date.now();\n                var pingPack = exports.imClient.buildMessagePack(Command_1.SystemCommand.PING, {});\n                conn.send(pingPack.pack(false));\n            }\n            setTimeout(loop, 500);\n        };\n        setTimeout(loop, 500);\n    };\n    // 发送消息已读\n    ImClient.prototype.sendP2PMessageRead = function (messageData) {\n        var messageReadPack = new MessageReadPack_1.MessageReadPack(this.userId, messageData, ConversationType_1[\"default\"].P2PMessage);\n        var sendMessageReadPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_READED, messageReadPack);\n        if (this.conn) {\n            this.conn.send(sendMessageReadPack.pack(false));\n        }\n    };\n    ImClient.prototype.sendGroupMessageRead = function (messageData) {\n        var messageReadPack = new MessageReadPack_1.MessageReadPack(this.userId, messageData, ConversationType_1[\"default\"].GroupMessage);\n        var sendMessageReadPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP_READED, messageReadPack);\n        if (this.conn) {\n            this.conn.send(sendMessageReadPack.pack(false));\n        }\n    };\n    // 发送消息接收成功ACK\n    ImClient.prototype.sendMessageReceiveAck = function (messageData) {\n        var messageReceiveAckPack = new MessageReceiveAckPack_1.MessageReceiveAckPack(this.userId, messageData);\n        var sendMessageReceiveAck = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_RECEIVE_ACK, messageReceiveAckPack);\n        if (this.conn) {\n            this.conn.send(sendMessageReceiveAck.pack(false));\n        }\n    };\n    // 发送消息撤回\n    ImClient.prototype.sendP2PMessageRecall = function (messageData) {\n        var messageRecallPack = new MessageRecallPack_1.MessageRecallPack(this.userId, messageData, ConversationType_1[\"default\"].P2PMessage);\n        var sendMessageRecall = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_RECALL, messageRecallPack);\n        if (this.conn) {\n            this.conn.send(sendMessageRecall.pack(false));\n        }\n    };\n    ImClient.prototype.sendGroupMessageRecall = function (messageData) {\n        var messageRecallPack = new MessageRecallPack_1.MessageRecallPack(this.userId, messageData, ConversationType_1[\"default\"].GroupMessage);\n        var sendMessageRecall = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_RECALL, messageRecallPack);\n        if (this.conn) {\n            this.conn.send(sendMessageRecall.pack(false));\n        }\n    };\n    // 发送单聊文本消息\n    ImClient.prototype.sendP2PTextMessage = function (to, text) {\n        var pack = CreateMessage_1.createTextMessage(this.appId, this.userId, to, text, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n        }\n        return pack;\n    };\n    // 发送单聊图片消息\n    ImClient.prototype.sendP2PImageMessage = function (to, image) {\n        var pack = CreateMessage_1.createImageMessage(this.appId, this.userId, to, image, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊语音消息\n    ImClient.prototype.sendP2PAudioMessage = function (to, audio) {\n        var pack = CreateMessage_1.createAudioMessage(this.appId, this.userId, to, audio, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊视频消息\n    ImClient.prototype.sendP2PVideoMessage = function (to, video) {\n        var pack = CreateMessage_1.createVideoMessage(this.appId, this.userId, to, video, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊表情消息\n    ImClient.prototype.sendP2PEmojiMessage = function (to, emoji) {\n        var pack = CreateMessage_1.createEmojiMessage(this.appId, this.userId, to, emoji, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊文件消息\n    ImClient.prototype.sendP2PFileMessage = function (to, file) {\n        var pack = CreateMessage_1.createFileMessage(this.appId, this.userId, to, file, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊位置消息\n    ImClient.prototype.sendP2PLocationMessage = function (to, location) {\n        var pack = CreateMessage_1.createLocationMessage(this.appId, this.userId, to, location, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊自定义消息\n    ImClient.prototype.sendP2PCustomerMessage = function (to, type, custom) {\n        var pack = CreateMessage_1.createCustomerMessage(this.appId, this.userId, to, type, custom, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊文本消息\n    ImClient.prototype.sendGroupTextMessage = function (to, text) {\n        var pack = CreateMessage_1.createTextMessage(this.appId, this.userId, to, text, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊图片消息\n    ImClient.prototype.sendGroupImageMessage = function (to, image) {\n        var pack = CreateMessage_1.createImageMessage(this.appId, this.userId, to, image, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊语音消息\n    ImClient.prototype.sendGroupAudioMessage = function (to, audio) {\n        var pack = CreateMessage_1.createAudioMessage(this.appId, this.userId, to, audio, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊视频消息\n    ImClient.prototype.sendGroupVideoMessage = function (to, video) {\n        var pack = CreateMessage_1.createVideoMessage(this.appId, this.userId, to, video, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊表情消息\n    ImClient.prototype.sendGroupEmojiMessage = function (to, emoji) {\n        var pack = CreateMessage_1.createEmojiMessage(this.appId, this.userId, to, emoji, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊文件消息\n    ImClient.prototype.sendGroupFileMessage = function (to, file) {\n        var pack = CreateMessage_1.createFileMessage(this.appId, this.userId, to, file, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊位置消息\n    ImClient.prototype.sendGroupLocationMessage = function (to, location) {\n        var pack = CreateMessage_1.createLocationMessage(this.appId, this.userId, to, location, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊自定义消息\n    ImClient.prototype.sendGroupCustomerMessage = function (to, type, custom) {\n        var pack = CreateMessage_1.createCustomerMessage(this.appId, this.userId, to, type, custom, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    ImClient.prototype.requestVideoCall = function (to, msg) {\n        var pack = CreateMessage_1.createVideoCallMessage(this.appId, this.userId, to, 5, msg, ConversationType_1[\"default\"].P2PMessage);\n        var videoPack = exports.imClient.buildMessagePack(Command_1.MediaEventCommand.CALL_VIDEO, pack);\n        if (this.conn) {\n            this.conn.send(videoPack.pack(false));\n            return pack;\n        }\n    };\n    ImClient.prototype.acceptVideoCall = function (to, msg) {\n        var pack = CreateMessage_1.createVideoCallMessage(this.appId, this.userId, to, 5, msg, ConversationType_1[\"default\"].P2PMessage);\n        var videoPack = exports.imClient.buildMessagePack(Command_1.MediaEventCommand.ACCEPT_CALL, pack);\n        if (this.conn) {\n            this.conn.send(videoPack.pack(false));\n            return pack;\n        }\n    };\n    ImClient.prototype.rejectVideoCall = function (to, msg) {\n        var pack = CreateMessage_1.createVideoCallMessage(this.appId, this.userId, to, 5, msg, ConversationType_1[\"default\"].P2PMessage);\n        var videoPack = exports.imClient.buildMessagePack(Command_1.MediaEventCommand.REJECT_CALL, pack);\n        if (this.conn) {\n            this.conn.send(videoPack.pack(false));\n            return pack;\n        }\n    };\n    ImClient.prototype.hangUpVideoCall = function (to, msg) {\n        var pack = CreateMessage_1.createVideoCallMessage(this.appId, this.userId, to, 5, msg, ConversationType_1[\"default\"].P2PMessage);\n        var videoPack = exports.imClient.buildMessagePack(Command_1.MediaEventCommand.HANG_UP, pack);\n        if (this.conn) {\n            this.conn.send(videoPack.pack(false));\n            return pack;\n        }\n    };\n    ImClient.prototype.transmitIce = function (to, msg) {\n        var pack = CreateMessage_1.createVideoCallMessage(this.appId, this.userId, to, 5, msg, ConversationType_1[\"default\"].P2PMessage);\n        var videoPack = exports.imClient.buildMessagePack(Command_1.MediaEventCommand.TRANSMIT_ICE, pack);\n        if (this.conn) {\n            this.conn.send(videoPack.pack(false));\n            return pack;\n        }\n    };\n    ImClient.prototype.transmitOffer = function (to, msg) {\n        var pack = CreateMessage_1.createVideoCallMessage(this.appId, this.userId, to, 5, msg, ConversationType_1[\"default\"].P2PMessage);\n        var videoPack = exports.imClient.buildMessagePack(Command_1.MediaEventCommand.TRANSMIT_OFFER, pack);\n        if (this.conn) {\n            this.conn.send(videoPack.pack(false));\n            return pack;\n        }\n    };\n    ImClient.prototype.transmitAnswer = function (to, msg) {\n        var pack = CreateMessage_1.createVideoCallMessage(this.appId, this.userId, to, 5, msg, ConversationType_1[\"default\"].P2PMessage);\n        var videoPack = exports.imClient.buildMessagePack(Command_1.MediaEventCommand.TRANSMIT_ANSWER, pack);\n        if (this.conn) {\n            this.conn.send(videoPack.pack(false));\n            return pack;\n        }\n    };\n    ImClient.prototype.cancelVideoCall = function (to, msg) {\n        var pack = CreateMessage_1.createVideoCallMessage(this.appId, this.userId, to, 5, msg, ConversationType_1[\"default\"].P2PMessage);\n        var videoPack = exports.imClient.buildMessagePack(Command_1.MediaEventCommand.CANCEL_CALL, pack);\n        if (this.conn) {\n            this.conn.send(videoPack.pack(false));\n            return pack;\n        }\n    };\n    ImClient.prototype.getUserId = function () {\n        return this.userId;\n    };\n    return ImClient;\n}());\nexports.ImClient = ImClient;\nexports.limLogin = function (url, req, imClient) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        return [2 /*return*/, new Promise(function (resolve, _) {\n                var conn = new websocket_1.w3cwebsocket(url);\n                conn.binaryType = \"arraybuffer\";\n                Logger_1[\"default\"].info(\"limLogin\");\n                // 设置一个登陆超时器\n                var tr = setTimeout(function () {\n                    clearTimeout(tr);\n                    resolve({ success: false, err: new Error(\"timeout\"), conn: conn });\n                }, loginTimeout);\n                conn.onopen = function () {\n                    if (conn.readyState == websocket_1.w3cwebsocket.OPEN) {\n                        // 加入socket 连接事件\n                        if (typeof imClient.listeners.onSocketConnectEvent === 'function') {\n                            imClient.listeners.onSocketConnectEvent(url, req);\n                        }\n                        Logger_1[\"default\"].info(\"\\u5F00\\u542F\\u8FDE\\u63A5\");\n                        //登录数据包\n                        var data = {\n                            \"userId\": req.userId\n                        };\n                        var loginPack = imClient.buildMessagePack(Command_1.SystemCommand.LOGIN, data);\n                        conn.send(loginPack.pack(false));\n                    }\n                };\n                conn.onerror = function (error) {\n                    clearTimeout(tr);\n                    Logger_1[\"default\"].error(error);\n                    resolve({ success: false, err: error, conn: conn });\n                };\n                conn.onmessage = function (evt) {\n                    if (typeof evt.data === 'string') {\n                        Logger_1[\"default\"].info(\"Received: '\" + evt.data + \"'\");\n                        return;\n                    }\n                    clearTimeout(tr);\n                    var bytebuf = new ByteBuffer_1[\"default\"](evt.data);\n                    var byteBuffer = bytebuf.int32().int32().unpack();\n                    var command = byteBuffer[0];\n                    var bodyLen = byteBuffer[1];\n                    if (command == Command_1.SystemCommand.LOGIN_ACK) {\n                        resolve({ success: true, conn: conn });\n                    }\n                };\n            })];\n    });\n}); };\nexports.getLen = function (str) {\n    var len = 0;\n    for (var i = 0; i < str.length; i++) {\n        var c = str.charCodeAt(i);\n        //单字节加1\n        if ((c >= 0x0001 && c <= 0x007e) || (0xff60 <= c && c <= 0xff9f)) {\n            len++;\n        }\n        else {\n            len += 3;\n        }\n    }\n    return len;\n};\nexports.imClient = new ImClient();\n","\"use strict\";\nexports.__esModule = true;\nvar Fetch = /** @class */ (function () {\n    function Fetch() {\n    }\n    Fetch.getFetchToolkit = function () {\n        var httpFetch;\n        // @ts-ignore\n        if (typeof global.fetch !== 'undefined' && typeof global.fetch === 'function') {\n            // @ts-ignore\n            httpFetch = global.fetch;\n        }\n        else if (typeof fetch === 'function') {\n            httpFetch = fetch; // RN FETCH\n        }\n        else {\n            /*WX_APP*/\n            httpFetch = require(\"wxapp-fetch\");\n            /*WX_APP*/\n            /*WEB_APP*/\n            httpFetch = require(\"isomorphic-fetch\");\n            /*WEB_APP*/\n            /*UNI_APP*/\n            var uniFetch = require(\"../uniapp/http/uni-fetch\");\n            httpFetch = uniFetch.fetch;\n            /*UNI_APP*/\n        }\n        return httpFetch;\n    };\n    return Fetch;\n}());\nexports[\"default\"] = Fetch;\n","\"use strict\";\nexports.__esModule = true;\nexports.im = void 0;\nvar ImClient_1 = require(\"./lim/core/ImClient\");\nexports.im = ImClient_1.imClient;\n","\"use strict\";\nexports.__esModule = true;\nvar ByteBuffer = /** @class */ (function () {\n    function ByteBuffer(arrayBuf, offset) {\n        this.Type_Byte = 1;\n        this.Type_Short = 2;\n        this.Type_UShort = 3;\n        this.Type_Int32 = 4;\n        this.Type_UInt32 = 5;\n        this.Type_String = 6; //变长字符串，前两个字节表示长度\n        this.Type_VString = 7; //定长字符串\n        this.Type_Int64 = 8;\n        this.Type_Float = 9;\n        this.Type_Double = 10;\n        this.Type_ByteArray = 11;\n        this._offset = 0;\n        this._list = [];\n        this._littleEndian = false;\n        this._org_buf = arrayBuf ? (arrayBuf.constructor == DataView ? arrayBuf\n            : (arrayBuf.constructor == Uint8Array ? new DataView(arrayBuf.buffer, offset) : new DataView(arrayBuf, offset))) : new DataView(new Uint8Array([]).buffer);\n        this.arrayBuf = arrayBuf;\n        this.offset = offset;\n        // if (!ArrayBuffer.prototype.slice) {\n        //     ArrayBuffer.prototype.slice = function (start, end) {\n        //         var that = new Uint8Array(this);\n        //         if (end == undefined) end = that.length;\n        //         var result = new ArrayBuffer(end - start);\n        //         var resultArray = new Uint8Array(result);\n        //         for (var i = 0; i < resultArray.length; i++)\n        //             resultArray[i] = that[i + start];\n        //         return result;\n        //     }\n        // }\n    }\n    //指定字节序 为BigEndian\n    ByteBuffer.prototype.bigEndian = function () {\n        this._littleEndian = false;\n        return this;\n    };\n    ;\n    //指定字节序 为LittleEndian\n    ByteBuffer.prototype.littleEndianfunction = function () {\n        this._littleEndian = true;\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.utf8Write = function (view, offset, str) {\n        var c = 0;\n        for (var i = 0, l = str.length; i < l; i++) {\n            c = str.charCodeAt(i);\n            if (c < 0x80) {\n                view.setUint8(offset++, c);\n            }\n            else if (c < 0x800) {\n                view.setUint8(offset++, 0xc0 | (c >> 6));\n                view.setUint8(offset++, 0x80 | (c & 0x3f));\n            }\n            else if (c < 0xd800 || c >= 0xe000) {\n                view.setUint8(offset++, 0xe0 | (c >> 12));\n                view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\n                view.setUint8(offset++, 0x80 | (c & 0x3f));\n            }\n            else {\n                i++;\n                c = 0x10000 + (((c & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\n                view.setUint8(offset++, 0xf0 | (c >> 18));\n                view.setUint8(offset++, 0x80 | (c >> 12) & 0x3f);\n                view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\n                view.setUint8(offset++, 0x80 | (c & 0x3f));\n            }\n        }\n    };\n    // byte (val, index) {\n    //     if (arguments.length == 0) {\n    //         this._list.push(this._org_buf.getUint8(this._offset, this._littleEndian));\n    //         this._offset += 1;\n    //     } else {\n    //         this._list.splice(index != undefined ? index : this._list.length, 0);\n    //         this._offset += 1;\n    //     }\n    //     return this;\n    // };\n    // short(val:number, index:number) {\n    //     if (arguments.length == 0) {\n    //         this._list.push(this._org_buf.getInt16(this._offset, this._littleEndian));\n    //         this._offset += 2;\n    //     } else {\n    //         this._list.splice(index != undefined ? index : this._list.length, 0, this.Type_Short);\n    //         this._offset += 2;\n    //     }\n    //     return this;\n    // };\n    // ushort(val, index) {\n    //     if (arguments.length == 0) {\n    //         this._list.push(this._org_buf.getUint16(this._offset, this._littleEndian));\n    //         this._offset += 2;\n    //     } else {\n    //         // , {t: this.Type_UShort, d: val, l: 2}\n    //         this._list.splice(index != undefined ? index : this._list.length, 0);\n    //         this._offset += 2;\n    //     }\n    //     return this;\n    // };\n    ByteBuffer.prototype.int32 = function (val, index) {\n        if (arguments.length == 0) {\n            this._list.push(this._org_buf.getInt32(this._offset, this._littleEndian));\n            this._offset += 4;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_Int32, d: val, l: 4 });\n            this._offset += 4;\n        }\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.uint32 = function (val, index) {\n        if (arguments.length == 0) {\n            this._list.push(this._org_buf.getUint32(this._offset, this._littleEndian));\n            this._offset += 4;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_UInt32, d: val, l: 4 });\n            this._offset += 4;\n        }\n        return this;\n    };\n    ;\n    /**\n     * 新加的方法，获取bytebuffer的长度\n     */\n    ByteBuffer.prototype.blength = function () {\n        return this._offset;\n    };\n    ;\n    /**\n     * 变长字符串 前4个字节表示字符串长度\n     **/\n    ByteBuffer.prototype.string = function (val, index) {\n        if (arguments.length == 0) {\n            var len = this._org_buf.getInt32(this._offset, this._littleEndian);\n            this._offset += 4;\n            this._list.push(this.utf8Read(this._org_buf, this._offset, len));\n            this._offset += len;\n        }\n        else {\n            var len = 0;\n            if (val) {\n                len = this.utf8Length(val);\n            }\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_String, d: val, l: len });\n            this._offset += len + 4;\n        }\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.utf8Length = function (str) {\n        var c = 0, length = 0;\n        for (var i = 0, l = str.length; i < l; i++) {\n            c = str.charCodeAt(i);\n            if (c < 0x80) {\n                length += 1;\n            }\n            else if (c < 0x800) {\n                length += 2;\n            }\n            else if (c < 0xd800 || c >= 0xe000) {\n                length += 3;\n            }\n            else {\n                i++;\n                length += 4;\n            }\n        }\n        return length;\n    };\n    ByteBuffer.prototype.utf8Read = function (view, offset, length) {\n        var string = '', chr = 0;\n        for (var i = offset, end = offset + length; i < end; i++) {\n            var byte = view.getUint8(i);\n            if ((byte & 0x80) === 0x00) {\n                string += String.fromCharCode(byte);\n                continue;\n            }\n            if ((byte & 0xe0) === 0xc0) {\n                string += String.fromCharCode(((byte & 0x0f) << 6) |\n                    (view.getUint8(++i) & 0x3f));\n                continue;\n            }\n            if ((byte & 0xf0) === 0xe0) {\n                string += String.fromCharCode(((byte & 0x0f) << 12) |\n                    ((view.getUint8(++i) & 0x3f) << 6) |\n                    ((view.getUint8(++i) & 0x3f) << 0));\n                continue;\n            }\n            if ((byte & 0xf8) === 0xf0) {\n                chr = ((byte & 0x07) << 18) |\n                    ((view.getUint8(++i) & 0x3f) << 12) |\n                    ((view.getUint8(++i) & 0x3f) << 6) |\n                    ((view.getUint8(++i) & 0x3f) << 0);\n                if (chr >= 0x010000) { // surrogate pair\n                    chr -= 0x010000;\n                    string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\n                }\n                else {\n                    string += String.fromCharCode(chr);\n                }\n                continue;\n            }\n            throw new Error('Invalid byte ' + byte.toString(16));\n        }\n        return string;\n    };\n    /**\n     * 定长字符串 val为null时，读取定长字符串（需指定长度len）\n     **/\n    ByteBuffer.prototype.vstring = function (val, len, index) {\n        if (!len) {\n            throw new Error('vstring must got len argument');\n            return this;\n        }\n        if (val == undefined || val == null) {\n            var vlen = 0; //实际长度\n            for (var i = this._offset; i < this._offset + len; i++) {\n                if (this._org_buf.getUint8(i) > 0)\n                    vlen++;\n            }\n            this._list.push(this.utf8Read(this._org_buf, this._offset, vlen));\n            this._offset += len;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, {\n                t: this.Type_VString,\n                d: val,\n                l: len\n            });\n            this._offset += len;\n        }\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.int64 = function (val, index) {\n        if (arguments.length == 0) {\n            this._list.push(this._org_buf.getFloat64(this._offset, this._littleEndian));\n            this._offset += 8;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_Int64, d: val, l: 8 });\n            this._offset += 8;\n        }\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.float = function (val, index) {\n        if (arguments.length == 0) {\n            this._list.push(this._org_buf.getFloat32(this._offset, this._littleEndian));\n            this._offset += 4;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_Float, d: val, l: 4 });\n            this._offset += 4;\n        }\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.double = function (val, index) {\n        if (arguments.length == 0) {\n            this._list.push(this._org_buf.getFloat64(this._offset, this._littleEndian));\n            this._offset += 8;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_Double, d: val, l: 8 });\n            this._offset += 8;\n        }\n        return this;\n    };\n    ;\n    /**\n     * 写入或读取一段字节数组\n     **/\n    ByteBuffer.prototype.byteArray = function (val, len, index) {\n        if (!len) {\n            throw new Error('byteArray must got len argument');\n            return this;\n        }\n        if (val == undefined || val == null) {\n            var arr = new Uint8Array(this._org_buf.buffer.slice(this._offset, this._offset + len));\n            this._list.push(arr);\n            this._offset += len;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, {\n                t: this.Type_ByteArray,\n                d: val,\n                l: len\n            });\n            this._offset += len;\n        }\n        return this;\n    };\n    ;\n    /**\n     * 解包成数据数组\n     **/\n    ByteBuffer.prototype.unpack = function () {\n        return this._list;\n    };\n    ;\n    /**\n     * 打包成二进制,在前面加上4个字节表示包长\n     **/\n    ByteBuffer.prototype.packWithHead = function () {\n        return this.pack(true);\n    };\n    ;\n    /**\n     * 打包成二进制\n     * @param ifHead 是否在前面加上4个字节表示包长\n     **/\n    ByteBuffer.prototype.pack = function (ifHead) {\n        this._org_buf = new DataView(new ArrayBuffer((ifHead) ? this._offset + 4 : this._offset));\n        var offset = 0;\n        if (ifHead) {\n            this._org_buf.setUint32(offset, this._offset, this._littleEndian);\n            offset += 4;\n        }\n        for (var i = 0; i < this._list.length; i++) {\n            switch (this._list[i].t) {\n                case this.Type_Byte:\n                    this._org_buf.setInt8(offset, this._list[i].d);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_Short:\n                    this._org_buf.setInt16(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_UShort:\n                    this._org_buf.setUint16(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_Int32:\n                    this._org_buf.setInt32(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_UInt32:\n                    this._org_buf.setUint32(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_String:\n                    //前4个字节表示字符串长度\n                    this._org_buf.setUint32(offset, this._list[i].l, this._littleEndian);\n                    offset += 4;\n                    this.utf8Write(this._org_buf, offset, this._list[i].d);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_VString:\n                    this.utf8Write(this._org_buf, offset, this._list[i].d);\n                    var vlen = this.utf8Length(this._list[i].d); //字符串实际长度\n                    //补齐\\0\n                    for (var j = offset + vlen; j < offset + this._list[i].l; j++) {\n                        this._org_buf.setUint8(j, 0);\n                    }\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_Int64:\n                    this._org_buf.setFloat64(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_Float:\n                    this._org_buf.setFloat32(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_Double:\n                    this._org_buf.setFloat64(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_ByteArray:\n                    var indx = 0;\n                    for (var j = offset; j < offset + this._list[i].l; j++) {\n                        if (indx < this._list[i].d.length) {\n                            this._org_buf.setUint8(j, this._list[i].d[indx]);\n                        }\n                        else { //不够的话，后面补齐0x00\n                            this._org_buf.setUint8(j, 0);\n                        }\n                        indx++;\n                    }\n                    offset += this._list[i].l;\n                    break;\n            }\n        }\n        return this._org_buf.buffer;\n    };\n    ;\n    /**\n     * 未读数据长度\n     **/\n    ByteBuffer.prototype.getAvailable = function () {\n        if (!this._org_buf)\n            return this._offset;\n        return this._org_buf.buffer.byteLength - this._offset;\n    };\n    ;\n    return ByteBuffer;\n}());\nexports[\"default\"] = ByteBuffer;\n","\"use strict\";\nexports.__esModule = true;\nexports.LoginPack = void 0;\nvar LoginPack = /** @class */ (function () {\n    function LoginPack(appId, userId, clientType) {\n        this.userId = userId;\n        this.clientType = clientType;\n        this.appId = appId;\n    }\n    return LoginPack;\n}());\nexports.LoginPack = LoginPack;\n","\"use strict\";\nexports.__esModule = true;\nvar Fetch_1 = require(\"../common/Fetch\");\nvar Logger_1 = require(\"../log/Logger\");\nvar Base64 = {\n    _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n    encode: function (e) {\n        var t = \"\";\n        var n, r, i, s, o, u, a;\n        var f = 0;\n        e = Base64._utf8_encode(e);\n        while (f < e.length) {\n            n = e.charCodeAt(f++);\n            r = e.charCodeAt(f++);\n            i = e.charCodeAt(f++);\n            s = n >> 2;\n            o = (n & 3) << 4 | r >> 4;\n            u = (r & 15) << 2 | i >> 6;\n            a = i & 63;\n            if (isNaN(r)) {\n                u = a = 64;\n            }\n            else if (isNaN(i)) {\n                a = 64;\n            }\n            t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a);\n        }\n        return t;\n    },\n    decode: function (e) {\n        var t = \"\";\n        var n, r, i;\n        var s, o, u, a;\n        var f = 0;\n        e = e.replace(/[^A-Za-z0-9+/=]/g, \"\");\n        while (f < e.length) {\n            s = this._keyStr.indexOf(e.charAt(f++));\n            o = this._keyStr.indexOf(e.charAt(f++));\n            u = this._keyStr.indexOf(e.charAt(f++));\n            a = this._keyStr.indexOf(e.charAt(f++));\n            n = s << 2 | o >> 4;\n            r = (o & 15) << 4 | u >> 2;\n            i = (u & 3) << 6 | a;\n            t = t + String.fromCharCode(n);\n            if (u != 64) {\n                t = t + String.fromCharCode(r);\n            }\n            if (a != 64) {\n                t = t + String.fromCharCode(i);\n            }\n        }\n        t = Base64._utf8_decode(t);\n        return t;\n    },\n    _utf8_encode: function (e) {\n        e = e.replace(/rn/g, \"n\");\n        var t = \"\";\n        for (var n = 0; n < e.length; n++) {\n            var r = e.charCodeAt(n);\n            if (r < 128) {\n                t += String.fromCharCode(r);\n            }\n            else if (r > 127 && r < 2048) {\n                t += String.fromCharCode(r >> 6 | 192);\n                t += String.fromCharCode(r & 63 | 128);\n            }\n            else {\n                t += String.fromCharCode(r >> 12 | 224);\n                t += String.fromCharCode(r >> 6 & 63 | 128);\n                t += String.fromCharCode(r & 63 | 128);\n            }\n        }\n        return t;\n    },\n    _utf8_decode: function (e) {\n        var t = \"\";\n        var n = 0;\n        var r = 0;\n        var c2 = 0;\n        while (n < e.length) {\n            r = e.charCodeAt(n);\n            if (r < 128) {\n                t += String.fromCharCode(r);\n                n++;\n            }\n            else if (r > 191 && r < 224) {\n                c2 = e.charCodeAt(n + 1);\n                t += String.fromCharCode((r & 31) << 6 | c2 & 63);\n                n += 2;\n            }\n            else {\n                c2 = e.charCodeAt(n + 1);\n                var c3 = e.charCodeAt(n + 2);\n                t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);\n                n += 3;\n            }\n        }\n        return t;\n    }\n};\nvar WebToolkit = /** @class */ (function () {\n    function WebToolkit() {\n    }\n    // 获取浏览器信息\n    WebToolkit.getBrowserInfo = function () {\n        var agent = navigator.userAgent.toLowerCase();\n        var system = agent.split(\" \")[1].split(\" \")[0].split(\"(\")[1];\n        var REGSTR_EDGE = /edge\\/[\\d.]+/gi;\n        var REGSTR_IE = /trident\\/[\\d.]+/gi;\n        var OLD_IE = /msie\\s[\\d.]+/gi;\n        var REGSTR_FF = /firefox\\/[\\d.]+/gi;\n        var REGSTR_CHROME = /chrome\\/[\\d.]+/gi;\n        var REGSTR_SAF = /safari\\/[\\d.]+/gi;\n        var REGSTR_OPERA = /opr\\/[\\d.]+/gi;\n        var info = {\n            code: 0,\n            system: system,\n            browser: \"\",\n            browserVersion: \"\"\n        };\n        // IE\n        if (agent.indexOf(\"trident\") > 0) {\n            info.browser = agent.match(REGSTR_IE)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_IE)[0].split(\"/\")[1];\n            return info;\n        }\n        // OLD_IE\n        if (agent.indexOf(\"msie\") > 0) {\n            info.browser = agent.match(OLD_IE)[0].split(\" \")[0];\n            info.browserVersion = agent.match(OLD_IE)[0].split(\" \")[1];\n            return info;\n        }\n        // Edge\n        if (agent.indexOf(\"edge\") > 0) {\n            info.browser = agent.match(REGSTR_EDGE)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_EDGE)[0].split(\"/\")[1];\n            return info;\n        }\n        // firefox\n        if (agent.indexOf(\"firefox\") > 0) {\n            info.browser = agent.match(REGSTR_FF)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_FF)[0].split(\"/\")[1];\n            return info;\n        }\n        // Opera\n        if (agent.indexOf(\"opr\") > 0) {\n            info.browser = agent.match(REGSTR_OPERA)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_OPERA)[0].split(\"/\")[1];\n            return info;\n        }\n        // Safari\n        if (agent.indexOf(\"safari\") > 0 && agent.indexOf(\"chrome\") < 0) {\n            info.browser = agent.match(REGSTR_SAF)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_SAF)[0].split(\"/\")[1];\n            return info;\n        }\n        // Chrome\n        if (agent.indexOf(\"chrome\") > 0) {\n            info.browser = agent.match(REGSTR_CHROME)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_CHROME)[0].split(\"/\")[1];\n            return info;\n        }\n        else {\n            info.code = -1;\n            return info;\n        }\n    };\n    // TODO: 获取小程序设备信息\n    WebToolkit.getWxAppInfo = function () {\n        return {\n            system: 'WxApp',\n            browser: 'WxApp',\n            browserVersion: '1.0'\n        };\n    };\n    // TODO: 获取ReactNative设备信息\n    WebToolkit.getReactNativeInfo = function () {\n        return {\n            system: 'RNNative',\n            browser: 'RNNative',\n            browserVersion: '1.0'\n        };\n    };\n    // TODO: 获取UniApp设备信息\n    WebToolkit.getUniAppInfo = function () {\n        return {\n            system: 'UniApp',\n            browser: 'UniApp',\n            browserVersion: '1.0'\n        };\n    };\n    // 动态加入script 到head 标签处\n    WebToolkit.loadJS = function (url, callback) {\n        var script = document.createElement('script'), fn = callback || function () {\n        };\n        script.type = 'text/javascript';\n        // document.getElementsByTagName('head')[0].children[16].outerHTML.indexOf('http://pv.sohu.com/cityjson?ie=utf-8')\n        var exist = false;\n        for (var v in document.getElementsByTagName('head')[0].children) {\n            var dom = document.getElementsByTagName('head')[0].children[v];\n            if (dom.outerHTML !== undefined && dom.outerHTML.indexOf(url) >= 0) {\n                exist = true;\n            }\n        }\n        if (exist) {\n            fn();\n            return;\n        }\n        //IE\n        if (script.readyState) {\n            script.onreadystatechange = function () {\n                if (script.readyState == 'loaded' || script.readyState == 'complete') {\n                    script.onreadystatechange = null;\n                    fn();\n                }\n            };\n        }\n        else {\n            //其他浏览器\n            script.onload = function () {\n                fn();\n            };\n        }\n        script.src = url;\n        document.getElementsByTagName('head')[0].appendChild(script);\n    };\n    // 获取当前ip信息(fetch方式)\n    WebToolkit.getIpInfoByFetch = function (callback) {\n        var url = 'http://pv.sohu.com/cityjson?ie=utf-8';\n        var fetch = Fetch_1[\"default\"].getFetchToolkit();\n        var request = { method: \"GET\", mode: \"cors\", headers: { \"Content-Type\": \"application/json\" } };\n        return fetch(url, request).then(function (response) {\n            return response.text();\n        }).then(function (res) {\n            if (typeof callback === 'function') {\n                var currentCity = eval('_current_city=' + res.replace('var returnCitySN = ', ''));\n                callback(currentCity);\n            }\n        })[\"catch\"](function (e) {\n            Logger_1[\"default\"].trace(e);\n        });\n    };\n    // 获取当前ip信息(动态插入script脚本方式)\n    WebToolkit.getIpInfoByInsertScript = function (callback) {\n        var url = 'http://pv.sohu.com/cityjson?ie=utf-8';\n        WebToolkit.loadJS(url, function () {\n            callback(window['returnCitySN']);\n        });\n    };\n    WebToolkit.getIpInfo = function (callback) {\n        /*WX_APP*/\n        WebToolkit.getIpInfoByFetch(callback);\n        /*WX_APP*/\n        /*WEB_APP*/\n        WebToolkit.getIpInfoByInsertScript(callback);\n        /*WEB_APP*/\n        /*RN_APP*/\n        WebToolkit.getIpInfoByInsertScript(callback);\n        /*RN_APP*/\n        /*UNI_APP*/\n        WebToolkit.getIpInfoByFetch(callback);\n        /*UNI_APP*/\n    };\n    // 获取客户端设备信息\n    WebToolkit.getDeviceInfo = function () {\n        return WebToolkit.getBrowserInfo();\n    };\n    WebToolkit.base64Encode = function (str) {\n        return Base64.encode(str);\n    };\n    WebToolkit.base64Decode = function (str) {\n        return Base64.decode(str);\n    };\n    return WebToolkit;\n}());\nexports[\"default\"] = WebToolkit;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wxFetch\"] = factory();\n\telse\n\t\troot[\"wxFetch\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_wxapp_http__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_wxapp_http___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_wxapp_http__);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\nvar httpClient = __WEBPACK_IMPORTED_MODULE_0_wxapp_http___default.a.create({\n  maxConcurrent: 10,\n  timeout: 0,\n  header: {},\n  dataType: 'json'\n});\n\nfunction generateResponse(res) {\n  var header = res.header || {};\n  var config = res.config || {};\n  return {\n    ok: (res.statusCode / 200 | 0) === 1, // 200-299\n    status: res.statusCode,\n    statusText: res.errMsg,\n    url: config.url,\n    clone: function clone() {\n      return generateResponse(res);\n    },\n    text: function text() {\n      return Promise.resolve(typeof res.data === 'string' ? res.data : JSON.stringify(res.data));\n    },\n    json: function json() {\n      if (_typeof(res.data) === 'object') return Promise.resolve(res.data);\n      var json = {};\n      try {\n        json = JSON.parse(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n      return json;\n    },\n    blob: function blob() {\n      return Promise.resolve(new Blob([res.data]));\n    },\n    headers: {\n      keys: function keys() {\n        return Object.keys(header);\n      },\n      entries: function entries() {\n        var all = [];\n        for (var key in header) {\n          if (header.hasOwnProperty(key)) {\n            all.push([key, header[key]]);\n          }\n        }\n        return all;\n      },\n      get: function get(n) {\n        return header[n.toLowerCase()];\n      },\n      has: function has(n) {\n        return n.toLowerCase() in header;\n      }\n    }\n  };\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (typeof fetch === 'function' ? fetch.bind() : function (url, options) {\n  options = options || {};\n  return httpClient.request(options.method || 'get', url, options.body, options.headers).then(function (res) {\n    return Promise.resolve(generateResponse(res));\n  }).catch(function (res) {\n    return Promise.reject(generateResponse(res));\n  });\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wxHttp\"] = factory();\n\telse\n\t\troot[\"wxHttp\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * Created by axetroy on 17-6-23.\n */\n/// <reference path=\"./index.d.ts\" />\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar event_emitter_js_1 = __webpack_require__(1);\nvar DEFAULT_CONFIG = {\n    maxConcurrent: 10,\n    timeout: 0,\n    header: {},\n    dataType: 'json'\n};\nvar Http = /** @class */ (function (_super) {\n    __extends(Http, _super);\n    function Http(config) {\n        if (config === void 0) { config = DEFAULT_CONFIG; }\n        var _this = _super.call(this) || this;\n        _this.config = config;\n        _this.ctx = typeof wx === 'object' ? wx : { request: function () { } };\n        _this.queue = [];\n        _this.runningTask = 0;\n        _this.maxConcurrent = DEFAULT_CONFIG.maxConcurrent;\n        _this.requestInterceptor = function (config) { return true; };\n        _this.responseInterceptor = function (config, response) { return true; };\n        _this.maxConcurrent = config.maxConcurrent;\n        return _this;\n    }\n    Http.prototype.create = function (config) {\n        if (config === void 0) { config = DEFAULT_CONFIG; }\n        return new Http(config);\n    };\n    Http.prototype.next = function () {\n        var _this = this;\n        var queue = this.queue;\n        if (!queue.length || this.runningTask >= this.maxConcurrent)\n            return;\n        var entity = queue.shift();\n        var config = entity.config;\n        var _a = this, requestInterceptor = _a.requestInterceptor, responseInterceptor = _a.responseInterceptor;\n        if (requestInterceptor.call(this, config) !== true) {\n            var response = {\n                data: null,\n                errMsg: \"Request Interceptor: Request can't pass the Interceptor\",\n                statusCode: 0,\n                header: {}\n            };\n            entity.reject(response);\n            return;\n        }\n        this.emit('request', config);\n        this.runningTask = this.runningTask + 1;\n        var callBack = {\n            success: function (res) {\n                entity.response = res;\n                _this.emit('success', config, res);\n                responseInterceptor.call(_this, config, res) !== true\n                    ? entity.reject(res)\n                    : entity.resolve(res);\n            },\n            fail: function (res) {\n                entity.response = res;\n                _this.emit('fail', config, res);\n                responseInterceptor.call(_this, config, res) !== true\n                    ? entity.reject(res)\n                    : entity.resolve(res);\n            },\n            complete: function () {\n                _this.emit('complete', config, entity.response);\n                _this.next();\n                _this.runningTask = _this.runningTask - 1;\n            }\n        };\n        var requestConfig = Object.assign(config, callBack);\n        this.ctx.request(requestConfig);\n    };\n    Http.prototype.request = function (method, url, data, header, dataType) {\n        var _this = this;\n        if (data === void 0) { data = ''; }\n        if (header === void 0) { header = {}; }\n        if (dataType === void 0) { dataType = 'json'; }\n        var config = {\n            method: method,\n            url: url,\n            data: data,\n            header: __assign({}, header, this.config.header),\n            dataType: dataType || this.config.dataType\n        };\n        return new Promise(function (resolve, reject) {\n            var entity = { config: config, resolve: resolve, reject: reject, response: null };\n            _this.queue.push(entity);\n            _this.next();\n        });\n    };\n    Http.prototype.head = function (url, data, header, dataType) {\n        return this.request('HEAD', url, data, header, dataType);\n    };\n    Http.prototype.options = function (url, data, header, dataType) {\n        return this.request('OPTIONS', url, data, header, dataType);\n    };\n    Http.prototype.get = function (url, data, header, dataType) {\n        return this.request('GET', url, data, header, dataType);\n    };\n    Http.prototype.post = function (url, data, header, dataType) {\n        return this.request('POST', url, data, header, dataType);\n    };\n    Http.prototype.put = function (url, data, header, dataType) {\n        return this.request('PUT', url, data, header, dataType);\n    };\n    Http.prototype['delete'] = function (url, data, header, dataType) {\n        return this.request('DELETE', url, data, header, dataType);\n    };\n    Http.prototype.trace = function (url, data, header, dataType) {\n        return this.request('TRACE', url, data, header, dataType);\n    };\n    Http.prototype.connect = function (url, data, header, dataType) {\n        return this.request('CONNECT', url, data, header, dataType);\n    };\n    Http.prototype.setRequestInterceptor = function (interceptor) {\n        this.requestInterceptor = interceptor;\n        return this;\n    };\n    Http.prototype.setResponseInterceptor = function (interceptor) {\n        this.responseInterceptor = interceptor;\n        return this;\n    };\n    Http.prototype.clean = function () {\n        this.queue = [];\n    };\n    return Http;\n}(event_emitter_js_1.default));\nexports.default = new Http();\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EventEmitter\"] = factory();\n\telse\n\t\troot[\"EventEmitter\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/**\r\n * Created by axetroy on 2017/3/6.\r\n */\n/// <reference path=\"./index.d.ts\" />\n\nvar name = '@axetroy/event-emitter.js';\nvar id_Identifier = '__id__';\n\nfunction randomId() {\n  return Math.random().toString(36).substr(2, 16);\n}\n\nfunction findIndexById(id) {\n  return this.findIndex(function (callback) {\n    return callback[id_Identifier] === id;\n  });\n}\n\nvar defineProperty = Object.defineProperty;\n\nfunction EventEmitter() {\n  this[name] = {};\n  defineProperty && defineProperty(this, name, { enumerable: false, configurable: false });\n}\n\nvar prototype = EventEmitter.prototype;\n\nprototype.constructor = EventEmitter;\n\nprototype.on = function (event, listener) {\n  var events = this[name],\n      container = events[event] = events[event] || [],\n      id = randomId(),\n      index = void 0;\n  listener[id_Identifier] = id;\n  container.push(listener);\n  return function () {\n    index = findIndexById.call(container, id);\n    index >= 0 && container.splice(index, 1);\n  };\n};\n\nprototype.off = function (event) {\n  this[name][event] = [];\n};\n\nprototype.clear = function () {\n  this[name] = {};\n};\n\nprototype.once = function (event, listener) {\n  var self = this,\n      events = self[name],\n      container = events[event] = events[event] || [],\n      id = randomId(),\n      index = void 0,\n      callback = function callback() {\n    index = findIndexById.call(container, id);\n    index >= 0 && container.splice(index, 1);\n    listener.apply(self, arguments);\n  };\n  callback[id_Identifier] = id;\n  container.push(callback);\n};\n\nprototype.emit = function () {\n  var self = this,\n      argv = [].slice.call(arguments),\n      event = argv.shift(),\n      events = self[name];\n  (events['*'] || []).concat(events[event] || []).map(function (listener) {\n    return self.emitting(event, argv, listener);\n  });\n};\n\nprototype.emitting = function (event, dataArray, listener) {\n  listener.apply(this, dataArray);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = EventEmitter;\n\n/***/ })\n/******/ ]);\n});\n\n/***/ })\n/******/ ]);\n});\n\n/***/ })\n/******/ ]);\n});","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n","var global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = options.statusText === undefined ? '' : '' + options.statusText\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n","var global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n  }\n  // return name.toLowerCase()\n  return name;\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('Content-Type')) {\n      if (typeof body === 'string') {\n        this.headers.set('Content-Type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('Content-Type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('Content-Type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n  return headers\n}\n\nfunction parseUniappHeaders(rawHeaders) {\n  var headers = new Headers()\n  for(var key in rawHeaders){\n    headers.append(key, rawHeaders[key])\n  }\n  return headers\n}\n\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = options.statusText === undefined ? '' : '' + options.statusText\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\n// 从 whatwg-fetch 项目改写\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n    function isJson(json) {\n      try {\n        if (typeof json == \"object\") {\n          return true;\n        }\n        if (typeof json == \"string\") {\n          if (typeof JSON.parse(str) == \"object\") {\n            return true;\n          }\n        }\n      } catch(e) {\n      }\n      return false;\n    }\n    function toStr(json) {\n      try {\n        if (typeof json == \"object\") {\n          return JSON.stringify(json);\n        }\n        if (typeof json == \"string\") {\n           return json;\n        }\n      } catch(e) {\n      }\n      return json.toString();\n    }\n\n\n    let rawBody = typeof request._bodyInit === 'undefined' ? null : request._bodyInit;\n    if(request.headers.hasOwnProperty('Content-Type') && request.headers['Content-Type'].indexOf('application/json') >= 0){\n       if(request.method.toUpperCase() === 'POST'){\n         rawBody = JSON.parse(rawBody); // uniapp框架遇到 method = 'POST' 且 Content-Type = 'application/json' 会自动序列化\n       }\n    }\n    const requestTask = uni.request({\n      url: fixUrl(request.url),\n      method: request.method,\n      data: rawBody,\n      header: request.headers.map,\n      complete: (resp)=> {\n        // Logger.info(resp);\n        if (request.signal) {\n          request.signal.removeEventListener('abort', abortXhr);\n        }\n        if(resp.errMsg.indexOf('fail') >= 0){\n          setTimeout(function() {\n            reject(new TypeError('Network request failed'))\n          }, 0);\n          return;\n        }\n        // if(resp.statusCode !== 200){\n        //   setTimeout(function() {\n        //     reject(new TypeError('Network request failed, statusCode:' + resp.statusCode + \"  full text:\" + JSON.stringify(resp.data)))\n        //   }, 0)\n        //   return;\n        // }\n        var options = {\n          status: resp.statusCode,\n          statusText: resp.data ? toStr(resp.data) : '',\n          headers: parseUniappHeaders(resp.header || {})\n        };\n        options.url = options.headers.get('X-Request-URL')\n        var body = options.statusText;\n        setTimeout(function() {\n          resolve(new Response(body, options))\n        }, 0)\n\n      }\n    });\n    function abortXhr() {\n      requestTask.abort()\n    }\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n    }\n\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n","var _globalThis;\nif (typeof globalThis === 'object') {\n\t_globalThis = globalThis;\n} else {\n\ttry {\n\t\t_globalThis = require('es5-ext/global');\n\t} catch (error) {\n\t} finally {\n\t\tif (!_globalThis && typeof window !== 'undefined') { _globalThis = window; }\n\t\tif (!_globalThis) { throw new Error('Could not determine global this'); }\n\t}\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\nvar websocket_version = require('./version');\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new NativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new NativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\nif (NativeWebSocket) {\n\t['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function(prop) {\n\t\tObject.defineProperty(W3CWebSocket, prop, {\n\t\t\tget: function() { return NativeWebSocket[prop]; }\n\t\t});\n\t});\n}\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : NativeWebSocket ? W3CWebSocket : null,\n    'version'      : websocket_version\n};\n","var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Fallback to standard globalThis if available\n\tif (typeof globalThis === \"object\" && globalThis) return globalThis;\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of updates to Object.prototype being restricted\n\t\t// via preventExtensions, seal or freeze\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ works, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n","module.exports = require('../package.json').version;\n","\"use strict\";\nexports.__esModule = true;\nexports.RequestBase = void 0;\nvar RequestBase = /** @class */ (function () {\n    function RequestBase(appId, clientType, imei) {\n        this.appId = appId;\n        this.clientType = clientType;\n        this.imei = imei;\n    }\n    return RequestBase;\n}());\nexports.RequestBase = RequestBase;\n","\"use strict\";\nexports.__esModule = true;\nexports.RequestParams = void 0;\nvar RequestParams = /** @class */ (function () {\n    function RequestParams(appId, identifier, userSign) {\n        this.appId = appId;\n        this.identifier = identifier;\n        this.userSign = userSign;\n    }\n    return RequestParams;\n}());\nexports.RequestParams = RequestParams;\n","\"use strict\";\nexports.__esModule = true;\nvar Logger_1 = require(\"../log/Logger\");\nvar ImClient_1 = require(\"./ImClient\");\nvar ApiResponse_1 = require(\"../model/ApiResponse\");\nvar utils_1 = require(\"../common/utils\");\nvar Fetch_1 = require(\"../common/Fetch\");\nvar HttpApi = /** @class */ (function () {\n    function HttpApi(url) {\n        this.url = \"http://127.0.0.1:8000\";\n        this.url = url;\n    }\n    HttpApi.prototype.call = function (url, params, body) {\n        var userId = ImClient_1.imClient.userId;\n        Logger_1[\"default\"].info(userId);\n        var reqUrl = this.url + url;\n        if (params != null) {\n            var paramStr = this.setQueryConfig(params);\n            console.log(paramStr);\n            reqUrl += paramStr;\n        }\n        var headers = {\n            'Content-Type': 'application/json'\n        };\n        var request = { method: \"POST\", headers: headers, mode: 'cors', body: utils_1[\"default\"].json(body) };\n        return this.httpFetch(reqUrl, request);\n    };\n    HttpApi.prototype.setQueryConfig = function (params) {\n        var _str = \"?\";\n        for (var o in params) {\n            _str += o + \"=\" + params[o] + \"&\";\n        }\n        _str = _str.substring(0, _str.length - 1); //末尾是&\n        return _str;\n    };\n    HttpApi.prototype.httpFetch = function (url, request) {\n        var _this = this;\n        console.log(\"httpFetch\");\n        var system = \"WebApp\";\n        if (system === 'WxApp') {\n            // @ts-ignore\n            if (wx === undefined) {\n                throw new Error('wx handle not exist');\n            }\n            return new Promise(function (resolve, reject) {\n                // @ts-ignore\n                wx.request({\n                    method: request.method,\n                    url: url,\n                    data: utils_1[\"default\"].bean(request),\n                    header: request.headers,\n                    success: function (res) {\n                        console.log(res);\n                        resolve(res.data);\n                    },\n                    fail: function (res) {\n                        console.log(res);\n                        reject(res.data);\n                    }\n                });\n            });\n        }\n        else if (system === 'RNNative') {\n            var rnFetch = Fetch_1[\"default\"].getFetchToolkit();\n            console.log(\"rnFetch\");\n            return rnFetch(url, request).then(function (response) {\n                return response.json();\n            }).then(function (res) {\n                Logger_1[\"default\"].info(\"==> [\" + request.method + \"] \" + url + \" back:\" + utils_1[\"default\"].json(res));\n                var resp = _this.response2ApiResponse(res);\n                if (resp.isFailed()) {\n                    return Promise.reject(resp);\n                }\n                return Promise.resolve(_this.response2ApiResponse(res));\n            });\n        }\n        else if (system === 'UniApp') {\n            var rnFetch = Fetch_1[\"default\"].getFetchToolkit();\n            return rnFetch(url, request).then(function (response) {\n                console.log(response);\n                return response.json();\n            }).then(function (res) {\n                Logger_1[\"default\"].info(\"==> [\" + request.method + \"] \" + url + \" back:\" + utils_1[\"default\"].json(res));\n                var resp = _this.response2ApiResponse(res);\n                if (resp.isFailed()) {\n                    return Promise.reject(resp);\n                }\n                return Promise.resolve(resp);\n            });\n        }\n        else {\n            var webFetch = Fetch_1[\"default\"].getFetchToolkit();\n            console.log(\"webFetch\");\n            return webFetch(url, request).then(function (response) {\n                return response.json();\n            }).then(function (res) {\n                Logger_1[\"default\"].info(\"==> [\" + request.method + \"] \" + url + \" back:\" + utils_1[\"default\"].json(res));\n                var resp = _this.response2ApiResponse(res);\n                console.log(res);\n                if (resp.isFailed()) {\n                    return Promise.reject(resp);\n                }\n                return Promise.resolve(_this.response2ApiResponse(res));\n            });\n        }\n    };\n    HttpApi.prototype.response2ApiResponse = function (response) {\n        var apiResponse = new ApiResponse_1[\"default\"](true);\n        apiResponse.data = response.data;\n        apiResponse.msg = response.msg;\n        apiResponse.code = response.code;\n        return apiResponse;\n    };\n    return HttpApi;\n}());\nexports[\"default\"] = HttpApi;\n","\"use strict\";\nexports.__esModule = true;\nvar ApiResponse = /** @class */ (function () {\n    function ApiResponse(succeed) {\n        if (succeed === void 0) { succeed = false; }\n        this.msg = '';\n        this.data = null;\n        if (succeed) {\n            this.code = 200;\n        }\n    }\n    ApiResponse.prototype.isSucceed = function () {\n        return this.code === 200;\n    };\n    ApiResponse.prototype.isFailed = function () {\n        return !this.isSucceed();\n    };\n    return ApiResponse;\n}());\nexports[\"default\"] = ApiResponse;\n","\"use strict\";\nexports.__esModule = true;\nexports.MediaEventCommand = exports.ConversationEventCommand = exports.UserEventCommand = exports.SystemCommand = exports.GroupEventCommand = exports.FriendshipEventCommand = exports.MessageCommand = void 0;\nvar MessageCommand;\n(function (MessageCommand) {\n    //单聊消息 1103\n    MessageCommand[MessageCommand[\"MSG_P2P\"] = 1103] = \"MSG_P2P\";\n    //单聊消息ACK 1046\n    MessageCommand[MessageCommand[\"MSG_ACK\"] = 1046] = \"MSG_ACK\";\n    //消息收到ack 1107\n    MessageCommand[MessageCommand[\"MSG_RECEIVE_ACK\"] = 1107] = \"MSG_RECEIVE_ACK\";\n    //发送消息已读   1106\n    MessageCommand[MessageCommand[\"MSG_READED\"] = 1106] = \"MSG_READED\";\n    //消息已读通知给同步端 1053\n    MessageCommand[MessageCommand[\"MSG_READED_NOTIFY\"] = 1053] = \"MSG_READED_NOTIFY\";\n    //消息已读回执，给原消息发送方 1054\n    MessageCommand[MessageCommand[\"MSG_READED_RECEIPT\"] = 1054] = \"MSG_READED_RECEIPT\";\n    //消息撤回 1050\n    MessageCommand[MessageCommand[\"MSG_RECALL\"] = 1050] = \"MSG_RECALL\";\n    //消息撤回通知 1052\n    MessageCommand[MessageCommand[\"MSG_RECALL_NOTIFY\"] = 1052] = \"MSG_RECALL_NOTIFY\";\n    //消息撤回回报 1051\n    MessageCommand[MessageCommand[\"MSG_RECALL_ACK\"] = 1051] = \"MSG_RECALL_ACK\";\n})(MessageCommand || (MessageCommand = {}));\nexports.MessageCommand = MessageCommand;\nvar FriendshipEventCommand;\n(function (FriendshipEventCommand) {\n    //添加好友\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_ADD\"] = 3000] = \"FRIEND_ADD\";\n    //更新好友\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_UPDATE\"] = 3001] = \"FRIEND_UPDATE\";\n    //删除好友\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_DELETE\"] = 3002] = \"FRIEND_DELETE\";\n    //好友申请\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_REQUEST\"] = 3003] = \"FRIEND_REQUEST\";\n    //好友申请已读\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_REQUEST_READ\"] = 3004] = \"FRIEND_REQUEST_READ\";\n    //好友申请审批\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_REQUEST_APPROVE\"] = 3005] = \"FRIEND_REQUEST_APPROVE\";\n    //添加黑名单\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_BLACK_ADD\"] = 3010] = \"FRIEND_BLACK_ADD\";\n    //移除黑名单\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_BLACK_DELETE\"] = 3011] = \"FRIEND_BLACK_DELETE\";\n    //新建好友分组\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_GROUP_ADD\"] = 3012] = \"FRIEND_GROUP_ADD\";\n    //删除好友分组\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_GROUP_DELETE\"] = 3013] = \"FRIEND_GROUP_DELETE\";\n    //好友分组添加成员\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_GROUP_MEMBER_ADD\"] = 3014] = \"FRIEND_GROUP_MEMBER_ADD\";\n    //好友分组移除成员\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_GROUP_MEMBER_DELETE\"] = 3015] = \"FRIEND_GROUP_MEMBER_DELETE\";\n    //删除所有好友\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_ALL_DELETE\"] = 3016] = \"FRIEND_ALL_DELETE\";\n})(FriendshipEventCommand || (FriendshipEventCommand = {}));\nexports.FriendshipEventCommand = FriendshipEventCommand;\nvar GroupEventCommand;\n(function (GroupEventCommand) {\n    /**\n     * 推送申请入群通知 2023\n     */\n    GroupEventCommand[GroupEventCommand[\"JOIN_GROUP\"] = 2000] = \"JOIN_GROUP\";\n    /**\n     * 推送添加群成员 2001，通知给所有管理员和本人\n     */\n    GroupEventCommand[GroupEventCommand[\"ADDED_MEMBER\"] = 2001] = \"ADDED_MEMBER\";\n    /**\n     * 推送创建群组通知 2002，通知给所有人\n     */\n    GroupEventCommand[GroupEventCommand[\"CREATED_GROUP\"] = 2002] = \"CREATED_GROUP\";\n    /**\n     * 推送更新群组通知 2003，通知给所有人\n     */\n    GroupEventCommand[GroupEventCommand[\"UPDATED_GROUP\"] = 2003] = \"UPDATED_GROUP\";\n    /**\n     * 推送退出群组通知 2004，通知给管理员和操作人\n     */\n    GroupEventCommand[GroupEventCommand[\"EXIT_GROUP\"] = 2004] = \"EXIT_GROUP\";\n    /**\n     * 推送修改群成员通知 2005，通知给管理员和被操作人\n     */\n    GroupEventCommand[GroupEventCommand[\"UPDATED_MEMBER\"] = 2005] = \"UPDATED_MEMBER\";\n    /**\n     * 推送删除群成员通知 2006，通知给所有群成员和被踢人\n     */\n    GroupEventCommand[GroupEventCommand[\"DELETED_MEMBER\"] = 2006] = \"DELETED_MEMBER\";\n    /**\n     * 推送解散群通知 2007，通知所有人\n     */\n    GroupEventCommand[GroupEventCommand[\"DESTROY_GROUP\"] = 2007] = \"DESTROY_GROUP\";\n    /**\n     * 推送转让群主 2008，通知所有人\n     */\n    GroupEventCommand[GroupEventCommand[\"TRANSFER_GROUP\"] = 2008] = \"TRANSFER_GROUP\";\n    /**\n     * 禁言群 2009，通知所有人\n     */\n    GroupEventCommand[GroupEventCommand[\"MUTE_GROUP\"] = 2009] = \"MUTE_GROUP\";\n    /**\n     * 禁言/解禁 群成员 2010，通知管理员和被操作人\n     */\n    GroupEventCommand[GroupEventCommand[\"SPEAK_GROUP_MEMBER\"] = 2010] = \"SPEAK_GROUP_MEMBER\";\n    /**\n     * 审批群申请通知\n     */\n    GroupEventCommand[GroupEventCommand[\"GROUP_REQUEST_APPROVE\"] = 2011] = \"GROUP_REQUEST_APPROVE\";\n    /**\n     * 群申请已读通知\n     */\n    GroupEventCommand[GroupEventCommand[\"GROUP_REQUEST_READ\"] = 2012] = \"GROUP_REQUEST_READ\";\n    //群聊消息收发 2104\n    GroupEventCommand[GroupEventCommand[\"MSG_GROUP\"] = 2104] = \"MSG_GROUP\";\n    //发送消息已读   2106\n    GroupEventCommand[GroupEventCommand[\"MSG_GROUP_READED\"] = 2106] = \"MSG_GROUP_READED\";\n    //消息已读通知给同步端 2053\n    GroupEventCommand[GroupEventCommand[\"MSG_GROUP_READED_NOTIFY\"] = 2053] = \"MSG_GROUP_READED_NOTIFY\";\n    //消息已读回执，给原消息发送方 2054\n    GroupEventCommand[GroupEventCommand[\"MSG_GROUP_READED_RECEIPT\"] = 2054] = \"MSG_GROUP_READED_RECEIPT\";\n    //群聊消息ack 2047\n    GroupEventCommand[GroupEventCommand[\"GROUP_MSG_ACK\"] = 2047] = \"GROUP_MSG_ACK\";\n})(GroupEventCommand || (GroupEventCommand = {}));\nexports.GroupEventCommand = GroupEventCommand;\nvar SystemCommand;\n(function (SystemCommand) {\n    //心跳 9999\n    SystemCommand[SystemCommand[\"PING\"] = 9999] = \"PING\";\n    /**\n     * 登录 9000\n     */\n    SystemCommand[SystemCommand[\"LOGIN\"] = 9000] = \"LOGIN\";\n    //登录ack  9001\n    SystemCommand[SystemCommand[\"LOGIN_ACK\"] = 9001] = \"LOGIN_ACK\";\n    //登出  9003\n    SystemCommand[SystemCommand[\"LOGOUT\"] = 9003] = \"LOGOUT\";\n    //下线通知 用于多端互斥  9002\n    SystemCommand[SystemCommand[\"MUTUAL_LOGIN\"] = 9002] = \"MUTUAL_LOGIN\";\n})(SystemCommand || (SystemCommand = {}));\nexports.SystemCommand = SystemCommand;\nvar UserEventCommand;\n(function (UserEventCommand) {\n    //用户信息修改command 4000\n    UserEventCommand[UserEventCommand[\"USER_MODIFY\"] = 4000] = \"USER_MODIFY\";\n    //4001 用户在线状态修改\n    UserEventCommand[UserEventCommand[\"USER_ONLINE_STATUS_CHANGE\"] = 4001] = \"USER_ONLINE_STATUS_CHANGE\";\n    //4004 用户在线状态通知报文\n    UserEventCommand[UserEventCommand[\"USER_ONLINE_STATUS_CHANGE_NOTIFY\"] = 4004] = \"USER_ONLINE_STATUS_CHANGE_NOTIFY\";\n    //4005 用户在线状态通知同步报文\n    UserEventCommand[UserEventCommand[\"USER_ONLINE_STATUS_CHANGE_NOTIFY_SYNC\"] = 4005] = \"USER_ONLINE_STATUS_CHANGE_NOTIFY_SYNC\";\n    //4006 用户自己在线状态更改通知报文\n    UserEventCommand[UserEventCommand[\"USER_CUSTOM_STATUS_CHANGE_NOTIFY\"] = 4006] = \"USER_CUSTOM_STATUS_CHANGE_NOTIFY\";\n})(UserEventCommand || (UserEventCommand = {}));\nexports.UserEventCommand = UserEventCommand;\nvar ConversationEventCommand;\n(function (ConversationEventCommand) {\n    //删除会话\n    ConversationEventCommand[ConversationEventCommand[\"CONVERSATION_DELETE\"] = 5000] = \"CONVERSATION_DELETE\";\n    //更新会话\n    ConversationEventCommand[ConversationEventCommand[\"CONVERSATION_UPDATE\"] = 5001] = \"CONVERSATION_UPDATE\";\n})(ConversationEventCommand || (ConversationEventCommand = {}));\nexports.ConversationEventCommand = ConversationEventCommand;\nvar MediaEventCommand;\n(function (MediaEventCommand) {\n    //6000 向对方拨打语音 notify ack\n    MediaEventCommand[MediaEventCommand[\"CALL_VOICE\"] = 6000] = \"CALL_VOICE\";\n    //6001 向对方拨打视频 notify ack\n    MediaEventCommand[MediaEventCommand[\"CALL_VIDEO\"] = 6001] = \"CALL_VIDEO\";\n    //6002 同意请求 notify ack\n    MediaEventCommand[MediaEventCommand[\"ACCEPT_CALL\"] = 6002] = \"ACCEPT_CALL\";\n    //6003 同步ice\n    MediaEventCommand[MediaEventCommand[\"TRANSMIT_ICE\"] = 6003] = \"TRANSMIT_ICE\";\n    //6004 发送offer\n    MediaEventCommand[MediaEventCommand[\"TRANSMIT_OFFER\"] = 6004] = \"TRANSMIT_OFFER\";\n    //6005 发送ANSWER\n    MediaEventCommand[MediaEventCommand[\"TRANSMIT_ANSWER\"] = 6005] = \"TRANSMIT_ANSWER\";\n    //6006 hangup 挂断 notify ack\n    MediaEventCommand[MediaEventCommand[\"HANG_UP\"] = 6006] = \"HANG_UP\";\n    //6007  拒绝 notify ack\n    MediaEventCommand[MediaEventCommand[\"REJECT_CALL\"] = 6007] = \"REJECT_CALL\";\n    //6008  取消呼叫 notify ack\n    MediaEventCommand[MediaEventCommand[\"CANCEL_CALL\"] = 6008] = \"CANCEL_CALL\";\n})(MediaEventCommand || (MediaEventCommand = {}));\nexports.MediaEventCommand = MediaEventCommand;\n","\"use strict\";\nexports.__esModule = true;\nexports.createVideoCallMessage = exports.createCustomerMessage = exports.createLocationMessage = exports.createFileMessage = exports.createEmojiMessage = exports.createVideoMessage = exports.createAudioMessage = exports.createImageMessage = exports.createTextMessage = void 0;\nvar MessagePack_1 = require(\"../pack/MessagePack\");\n// 创建文本消息\nvar createTextMessage = function (appId, from, to, text, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildTextMessagePack(from, to, text);\n    return messagePack;\n};\nexports.createTextMessage = createTextMessage;\n// 创建图片消息\nvar createImageMessage = function (appId, from, to, image, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildImageMessagePack(from, to, image);\n    return messagePack;\n};\nexports.createImageMessage = createImageMessage;\n// 创建语音消息\nvar createAudioMessage = function (appId, from, to, audio, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildAudioMessagePack(from, to, audio);\n    return messagePack;\n};\nexports.createAudioMessage = createAudioMessage;\n// 创建视频消息\nvar createVideoMessage = function (appId, from, to, video, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildVideoMessagePack(from, to, video);\n    return messagePack;\n};\nexports.createVideoMessage = createVideoMessage;\n// 创建表情消息\nvar createEmojiMessage = function (appId, from, to, emoji, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildEmojiMessagePack(from, to, emoji);\n    return messagePack;\n};\nexports.createEmojiMessage = createEmojiMessage;\n// 创建文件消息\nvar createFileMessage = function (appId, from, to, file, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildFileMessagePack(from, to, file);\n    return messagePack;\n};\nexports.createFileMessage = createFileMessage;\n// 创建位置消息\nvar createLocationMessage = function (appId, from, to, location, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildLocationMessagePack(from, to, location);\n    return messagePack;\n};\nexports.createLocationMessage = createLocationMessage;\n// 创建自定义消息\nvar createCustomerMessage = function (appId, from, to, type, custom, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildCustomerMessagePack(from, to, type, custom);\n    return messagePack;\n};\nexports.createCustomerMessage = createCustomerMessage;\n//创建请求视频通话消息\nvar createVideoCallMessage = function (appId, from, to, type, msg, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildCustomerMessagePack(from, to, type, msg);\n    return messagePack;\n};\nexports.createVideoCallMessage = createVideoCallMessage;\n","\"use strict\";\nexports.__esModule = true;\nexports.MessagePack = void 0;\nvar utils_1 = require(\"../common/utils\");\nvar ConversationType_1 = require(\"../common/ConversationType\");\nvar MessagePack = /** @class */ (function () {\n    function MessagePack(appId, conversationType) {\n        this.messageId = utils_1[\"default\"].uuid();\n        this.appId = appId;\n        this.messageRandom = this.RangeInteger(0, 10000);\n        this.messageTime = Date.parse(new Date().toString());\n        this.conversationType = conversationType;\n    }\n    MessagePack.prototype.RangeInteger = function (min, max) {\n        var range = max - min;\n        var value = Math.floor(Math.random() * range) + min;\n        return value;\n    };\n    // 创建文本消息\n    MessagePack.prototype.buildTextMessagePack = function (fromId, toId, text) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 1, content: text };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建图片消息\n    MessagePack.prototype.buildImageMessagePack = function (fromId, toId, image) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 2, content: image };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建语音消息\n    MessagePack.prototype.buildAudioMessagePack = function (fromId, toId, audio) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 3, content: audio };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建视频消息\n    MessagePack.prototype.buildVideoMessagePack = function (fromId, toId, video) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 4, content: video };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建表情消息\n    MessagePack.prototype.buildEmojiMessagePack = function (fromId, toId, emoji) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 5, content: emoji };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建文件消息\n    MessagePack.prototype.buildFileMessagePack = function (fromId, toId, file) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 6, content: file };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建位置消息\n    MessagePack.prototype.buildLocationMessagePack = function (fromId, toId, location) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 7, content: location };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建自定义消息\n    MessagePack.prototype.buildCustomerMessagePack = function (fromId, toId, type, obj) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: type, content: obj };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    return MessagePack;\n}());\nexports.MessagePack = MessagePack;\n","\"use strict\";\nexports.__esModule = true;\nexports.MessageReadPack = void 0;\nvar ConversationType_1 = require(\"../common/ConversationType\");\nvar MessageReadPack = /** @class */ (function () {\n    function MessageReadPack(userId, messageData, conversationType) {\n        this.fromId = userId;\n        this.toId = messageData.fromId;\n        this.conversationType = conversationType;\n        if (conversationType === ConversationType_1[\"default\"].GroupMessage) {\n            this.groupId = messageData.groupId;\n        }\n        this.messageSequence = messageData.messageSequence;\n    }\n    return MessageReadPack;\n}());\nexports.MessageReadPack = MessageReadPack;\n","\"use strict\";\nexports.__esModule = true;\nexports.MessageReceiveAckPack = void 0;\nvar MessageReceiveAckPack = /** @class */ (function () {\n    function MessageReceiveAckPack(fromId, messageData) {\n        this.fromId = fromId;\n        this.toId = messageData.fromId;\n        this.messageKey = messageData.messageKey;\n        this.messageId = messageData.messageId;\n        this.messageSequence = messageData.messageSequence;\n    }\n    return MessageReceiveAckPack;\n}());\nexports.MessageReceiveAckPack = MessageReceiveAckPack;\n","\"use strict\";\nexports.__esModule = true;\nexports.MessageRecallPack = void 0;\nvar MessageRecallPack = /** @class */ (function () {\n    function MessageRecallPack(fromId, messageData, conversationType) {\n        this.fromId = fromId;\n        this.toId = messageData.toId;\n        this.messageKey = messageData.messageKey;\n        this.messageTime = messageData.messageTime;\n        this.messageSequence = messageData.messageSequence;\n        this.conversationType = conversationType;\n    }\n    return MessageRecallPack;\n}());\nexports.MessageRecallPack = MessageRecallPack;\n"],"sourceRoot":""}